(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ri(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const ge={},Mn=[],st=()=>{},sf=()=>!1,Ks=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Pi=t=>t.startsWith("onUpdate:"),De=Object.assign,ki=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},of=Object.prototype.hasOwnProperty,oe=(t,e)=>of.call(t,e),J=Array.isArray,Nn=t=>Fr(t)==="[object Map]",Hs=t=>Fr(t)==="[object Set]",ba=t=>Fr(t)==="[object Date]",Z=t=>typeof t=="function",Ie=t=>typeof t=="string",Qt=t=>typeof t=="symbol",de=t=>t!==null&&typeof t=="object",Vc=t=>(de(t)||Z(t))&&Z(t.then)&&Z(t.catch),zc=Object.prototype.toString,Fr=t=>zc.call(t),af=t=>Fr(t).slice(8,-1),Gc=t=>Fr(t)==="[object Object]",Ii=t=>Ie(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ur=Ri(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qs=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},cf=/-(\w)/g,Et=qs(t=>t.replace(cf,(e,n)=>n?n.toUpperCase():"")),lf=/\B([A-Z])/g,Cn=qs(t=>t.replace(lf,"-$1").toLowerCase()),Ws=qs(t=>t.charAt(0).toUpperCase()+t.slice(1)),uo=qs(t=>t?`on${Ws(t)}`:""),Zt=(t,e)=>!Object.is(t,e),cs=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},xs=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Cr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let va;const Jc=()=>va||(va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ti(t){if(J(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Ie(r)?df(r):Ti(r);if(s)for(const o in s)e[o]=s[o]}return e}else if(Ie(t)||de(t))return t}const uf=/;(?![^(]*\))/g,ff=/:([^]+)/,hf=/\/\*[^]*?\*\//g;function df(t){const e={};return t.replace(hf,"").split(uf).forEach(n=>{if(n){const r=n.split(ff);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ai(t){let e="";if(Ie(t))e=t;else if(J(t))for(let n=0;n<t.length;n++){const r=Ai(t[n]);r&&(e+=r+" ")}else if(de(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const pf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gf=Ri(pf);function Xc(t){return!!t||t===""}function mf(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Vs(t[r],e[r]);return n}function Vs(t,e){if(t===e)return!0;let n=ba(t),r=ba(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Qt(t),r=Qt(e),n||r)return t===e;if(n=J(t),r=J(e),n||r)return n&&r?mf(t,e):!1;if(n=de(t),r=de(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const i in t){const a=t.hasOwnProperty(i),c=e.hasOwnProperty(i);if(a&&!c||!a&&c||!Vs(t[i],e[i]))return!1}}return String(t)===String(e)}function _f(t,e){return t.findIndex(n=>Vs(n,e))}const yf=t=>Ie(t)?t:t==null?"":J(t)||de(t)&&(t.toString===zc||!Z(t.toString))?JSON.stringify(t,Yc,2):String(t),Yc=(t,e)=>e&&e.__v_isRef?Yc(t,e.value):Nn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],o)=>(n[fo(r,o)+" =>"]=s,n),{})}:Hs(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>fo(n))}:Qt(e)?fo(e):de(e)&&!J(e)&&!Gc(e)?String(e):e,fo=(t,e="")=>{var n;return Qt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ct;class bf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ct,!e&&ct&&(this.index=(ct.scopes||(ct.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ct;try{return ct=this,e()}finally{ct=n}}}on(){ct=this}off(){ct=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function vf(t,e=ct){e&&e.active&&e.effects.push(t)}function wf(){return ct}let hn;class Oi{constructor(e,n,r,s){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,vf(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,En();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Sf(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),xn()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Xt,n=hn;try{return Xt=!0,hn=this,this._runnings++,wa(this),this.fn()}finally{Sa(this),this._runnings--,hn=n,Xt=e}}stop(){var e;this.active&&(wa(this),Sa(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Sf(t){return t.value}function wa(t){t._trackId++,t._depsLength=0}function Sa(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Qc(t.deps[e],t);t.deps.length=t._depsLength}}function Qc(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let Xt=!0,Do=0;const Zc=[];function En(){Zc.push(Xt),Xt=!1}function xn(){const t=Zc.pop();Xt=t===void 0?!0:t}function Di(){Do++}function Mi(){for(Do--;!Do&&Mo.length;)Mo.shift()()}function el(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Qc(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Mo=[];function tl(t,e,n){Di();for(const r of t.keys()){let s;r._dirtyLevel<e&&(s??(s=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(s??(s=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Mo.push(r.scheduler)))}Mi()}const nl=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},No=new WeakMap,dn=Symbol(""),Uo=Symbol("");function Ge(t,e,n){if(Xt&&hn){let r=No.get(t);r||No.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=nl(()=>r.delete(n))),el(hn,s)}}function Dt(t,e,n,r,s,o){const i=No.get(t);if(!i)return;let a=[];if(e==="clear")a=[...i.values()];else if(n==="length"&&J(t)){const c=Number(r);i.forEach((u,l)=>{(l==="length"||!Qt(l)&&l>=c)&&a.push(u)})}else switch(n!==void 0&&a.push(i.get(n)),e){case"add":J(t)?Ii(n)&&a.push(i.get("length")):(a.push(i.get(dn)),Nn(t)&&a.push(i.get(Uo)));break;case"delete":J(t)||(a.push(i.get(dn)),Nn(t)&&a.push(i.get(Uo)));break;case"set":Nn(t)&&a.push(i.get(dn));break}Di();for(const c of a)c&&tl(c,4);Mi()}const Cf=Ri("__proto__,__v_isRef,__isVue"),rl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Qt)),Ca=Ef();function Ef(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ie(this);for(let o=0,i=this.length;o<i;o++)Ge(r,"get",o+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(ie)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){En(),Di();const r=ie(this)[e].apply(this,n);return Mi(),xn(),r}}),t}function xf(t){const e=ie(this);return Ge(e,"has",t),e.hasOwnProperty(t)}class sl{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?$f:cl:o?al:il).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const i=J(e);if(!s){if(i&&oe(Ca,n))return Reflect.get(Ca,n,r);if(n==="hasOwnProperty")return xf}const a=Reflect.get(e,n,r);return(Qt(n)?rl.has(n):Cf(n))||(s||Ge(e,"get",n),o)?a:Je(a)?i&&Ii(n)?a:a.value:de(a)?s?ul(a):Yn(a):a}}class ol extends sl{constructor(e=!1){super(!1,e)}set(e,n,r,s){let o=e[n];if(!this._shallow){const c=Hn(o);if(!Rs(r)&&!Hn(r)&&(o=ie(o),r=ie(r)),!J(e)&&Je(o)&&!Je(r))return c?!1:(o.value=r,!0)}const i=J(e)&&Ii(n)?Number(n)<e.length:oe(e,n),a=Reflect.set(e,n,r,s);return e===ie(s)&&(i?Zt(r,o)&&Dt(e,"set",n,r):Dt(e,"add",n,r)),a}deleteProperty(e,n){const r=oe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Dt(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Qt(n)||!rl.has(n))&&Ge(e,"has",n),r}ownKeys(e){return Ge(e,"iterate",J(e)?"length":dn),Reflect.ownKeys(e)}}class Rf extends sl{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Pf=new ol,kf=new Rf,If=new ol(!0),Ni=t=>t,zs=t=>Reflect.getPrototypeOf(t);function Gr(t,e,n=!1,r=!1){t=t.__v_raw;const s=ie(t),o=ie(e);n||(Zt(e,o)&&Ge(s,"get",e),Ge(s,"get",o));const{has:i}=zs(s),a=r?Ni:n?$i:Er;if(i.call(s,e))return a(t.get(e));if(i.call(s,o))return a(t.get(o));t!==s&&t.get(e)}function Jr(t,e=!1){const n=this.__v_raw,r=ie(n),s=ie(t);return e||(Zt(t,s)&&Ge(r,"has",t),Ge(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Xr(t,e=!1){return t=t.__v_raw,!e&&Ge(ie(t),"iterate",dn),Reflect.get(t,"size",t)}function Ea(t){t=ie(t);const e=ie(this);return zs(e).has.call(e,t)||(e.add(t),Dt(e,"add",t,t)),this}function xa(t,e){e=ie(e);const n=ie(this),{has:r,get:s}=zs(n);let o=r.call(n,t);o||(t=ie(t),o=r.call(n,t));const i=s.call(n,t);return n.set(t,e),o?Zt(e,i)&&Dt(n,"set",t,e):Dt(n,"add",t,e),this}function Ra(t){const e=ie(this),{has:n,get:r}=zs(e);let s=n.call(e,t);s||(t=ie(t),s=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return s&&Dt(e,"delete",t,void 0),o}function Pa(){const t=ie(this),e=t.size!==0,n=t.clear();return e&&Dt(t,"clear",void 0,void 0),n}function Yr(t,e){return function(r,s){const o=this,i=o.__v_raw,a=ie(i),c=e?Ni:t?$i:Er;return!t&&Ge(a,"iterate",dn),i.forEach((u,l)=>r.call(s,c(u),c(l),o))}}function Qr(t,e,n){return function(...r){const s=this.__v_raw,o=ie(s),i=Nn(o),a=t==="entries"||t===Symbol.iterator&&i,c=t==="keys"&&i,u=s[t](...r),l=n?Ni:e?$i:Er;return!e&&Ge(o,"iterate",c?Uo:dn),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[l(f[0]),l(f[1])]:l(f),done:h}},[Symbol.iterator](){return this}}}}function Bt(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Tf(){const t={get(o){return Gr(this,o)},get size(){return Xr(this)},has:Jr,add:Ea,set:xa,delete:Ra,clear:Pa,forEach:Yr(!1,!1)},e={get(o){return Gr(this,o,!1,!0)},get size(){return Xr(this)},has:Jr,add:Ea,set:xa,delete:Ra,clear:Pa,forEach:Yr(!1,!0)},n={get(o){return Gr(this,o,!0)},get size(){return Xr(this,!0)},has(o){return Jr.call(this,o,!0)},add:Bt("add"),set:Bt("set"),delete:Bt("delete"),clear:Bt("clear"),forEach:Yr(!0,!1)},r={get(o){return Gr(this,o,!0,!0)},get size(){return Xr(this,!0)},has(o){return Jr.call(this,o,!0)},add:Bt("add"),set:Bt("set"),delete:Bt("delete"),clear:Bt("clear"),forEach:Yr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Qr(o,!1,!1),n[o]=Qr(o,!0,!1),e[o]=Qr(o,!1,!0),r[o]=Qr(o,!0,!0)}),[t,n,e,r]}const[Af,Of,Df,Mf]=Tf();function Ui(t,e){const n=e?t?Mf:Df:t?Of:Af;return(r,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(oe(n,s)&&s in r?n:r,s,o)}const Nf={get:Ui(!1,!1)},Uf={get:Ui(!1,!0)},jf={get:Ui(!0,!1)},il=new WeakMap,al=new WeakMap,cl=new WeakMap,$f=new WeakMap;function Bf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ff(t){return t.__v_skip||!Object.isExtensible(t)?0:Bf(af(t))}function Yn(t){return Hn(t)?t:ji(t,!1,Pf,Nf,il)}function ll(t){return ji(t,!1,If,Uf,al)}function ul(t){return ji(t,!0,kf,jf,cl)}function ji(t,e,n,r,s){if(!de(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const i=Ff(t);if(i===0)return t;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function Un(t){return Hn(t)?Un(t.__v_raw):!!(t&&t.__v_isReactive)}function Hn(t){return!!(t&&t.__v_isReadonly)}function Rs(t){return!!(t&&t.__v_isShallow)}function fl(t){return Un(t)||Hn(t)}function ie(t){const e=t&&t.__v_raw;return e?ie(e):t}function hl(t){return Object.isExtensible(t)&&xs(t,"__v_skip",!0),t}const Er=t=>de(t)?Yn(t):t,$i=t=>de(t)?ul(t):t;class dl{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Oi(()=>e(this._value),()=>ls(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=ie(this);return(!e._cacheable||e.effect.dirty)&&Zt(e._value,e._value=e.effect.run())&&ls(e,4),pl(e),e.effect._dirtyLevel>=2&&ls(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Lf(t,e,n=!1){let r,s;const o=Z(t);return o?(r=t,s=st):(r=t.get,s=t.set),new dl(r,s,o||!s,n)}function pl(t){var e;Xt&&hn&&(t=ie(t),el(hn,(e=t.dep)!=null?e:t.dep=nl(()=>t.dep=void 0,t instanceof dl?t:void 0)))}function ls(t,e=4,n){t=ie(t);const r=t.dep;r&&tl(r,e)}function Je(t){return!!(t&&t.__v_isRef===!0)}function Kf(t){return gl(t,!1)}function Hf(t){return gl(t,!0)}function gl(t,e){return Je(t)?t:new qf(t,e)}class qf{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ie(e),this._value=n?e:Er(e)}get value(){return pl(this),this._value}set value(e){const n=this.__v_isShallow||Rs(e)||Hn(e);e=n?e:ie(e),Zt(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Er(e),ls(this,4))}}function ot(t){return Je(t)?t.value:t}const Wf={get:(t,e,n)=>ot(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Je(s)&&!Je(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function ml(t){return Un(t)?t:new Proxy(t,Wf)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yt(t,e,n,r){try{return r?t(...r):t()}catch(s){Gs(s,e,n)}}function ht(t,e,n,r){if(Z(t)){const o=Yt(t,e,n,r);return o&&Vc(o)&&o.catch(i=>{Gs(i,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(ht(t[o],e,n,r));return s}function Gs(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const i=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let l=0;l<u.length;l++)if(u[l](t,i,a)===!1)return}o=o.parent}const c=e.appContext.config.errorHandler;if(c){Yt(c,null,10,[t,i,a]);return}}Vf(t,n,s,r)}function Vf(t,e,n,r=!0){console.error(t)}let xr=!1,jo=!1;const Ue=[];let wt=0;const jn=[];let Ht=null,cn=0;const _l=Promise.resolve();let Bi=null;function Fi(t){const e=Bi||_l;return t?e.then(this?t.bind(this):t):e}function zf(t){let e=wt+1,n=Ue.length;for(;e<n;){const r=e+n>>>1,s=Ue[r],o=Rr(s);o<t||o===t&&s.pre?e=r+1:n=r}return e}function Li(t){(!Ue.length||!Ue.includes(t,xr&&t.allowRecurse?wt+1:wt))&&(t.id==null?Ue.push(t):Ue.splice(zf(t.id),0,t),yl())}function yl(){!xr&&!jo&&(jo=!0,Bi=_l.then(vl))}function Gf(t){const e=Ue.indexOf(t);e>wt&&Ue.splice(e,1)}function Jf(t){J(t)?jn.push(...t):(!Ht||!Ht.includes(t,t.allowRecurse?cn+1:cn))&&jn.push(t),yl()}function ka(t,e,n=xr?wt+1:0){for(;n<Ue.length;n++){const r=Ue[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Ue.splice(n,1),n--,r()}}}function bl(t){if(jn.length){const e=[...new Set(jn)].sort((n,r)=>Rr(n)-Rr(r));if(jn.length=0,Ht){Ht.push(...e);return}for(Ht=e,cn=0;cn<Ht.length;cn++)Ht[cn]();Ht=null,cn=0}}const Rr=t=>t.id==null?1/0:t.id,Xf=(t,e)=>{const n=Rr(t)-Rr(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function vl(t){jo=!1,xr=!0,Ue.sort(Xf);try{for(wt=0;wt<Ue.length;wt++){const e=Ue[wt];e&&e.active!==!1&&Yt(e,null,14)}}finally{wt=0,Ue.length=0,bl(),xr=!1,Bi=null,(Ue.length||jn.length)&&vl()}}function Yf(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ge;let s=n;const o=e.startsWith("update:"),i=o&&e.slice(7);if(i&&i in r){const l=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:h}=r[l]||ge;h&&(s=n.map(p=>Ie(p)?p.trim():p)),f&&(s=n.map(Cr))}let a,c=r[a=uo(e)]||r[a=uo(Et(e))];!c&&o&&(c=r[a=uo(Cn(e))]),c&&ht(c,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ht(u,t,6,s)}}function wl(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const o=t.emits;let i={},a=!1;if(!Z(t)){const c=u=>{const l=wl(u,e,!0);l&&(a=!0,De(i,l))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!o&&!a?(de(t)&&r.set(t,null),null):(J(o)?o.forEach(c=>i[c]=null):De(i,o),de(t)&&r.set(t,i),i)}function Js(t,e){return!t||!Ks(e)?!1:(e=e.slice(2).replace(/Once$/,""),oe(t,e[0].toLowerCase()+e.slice(1))||oe(t,Cn(e))||oe(t,e))}let ze=null,Sl=null;function Ps(t){const e=ze;return ze=t,Sl=t&&t.type.__scopeId||null,e}function fr(t,e=ze,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Ba(-1);const o=Ps(e);let i;try{i=t(...s)}finally{Ps(o),r._d&&Ba(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function ho(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[i],slots:a,attrs:c,emit:u,render:l,renderCache:f,data:h,setupState:p,ctx:_,inheritAttrs:m}=t;let v,y;const b=Ps(t);try{if(n.shapeFlag&4){const I=s||r,O=I;v=vt(l.call(O,I,f,o,p,h,_)),y=c}else{const I=e;v=vt(I.length>1?I(o,{attrs:c,slots:a,emit:u}):I(o,null)),y=e.props?c:Qf(c)}}catch(I){gr.length=0,Gs(I,t,1),v=Ae(bn)}let S=v;if(y&&m!==!1){const I=Object.keys(y),{shapeFlag:O}=S;I.length&&O&7&&(i&&I.some(Pi)&&(y=Zf(y,i)),S=qn(S,y))}return n.dirs&&(S=qn(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),v=S,Ps(b),v}const Qf=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ks(n))&&((e||(e={}))[n]=t[n]);return e},Zf=(t,e)=>{const n={};for(const r in t)(!Pi(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function eh(t,e,n){const{props:r,children:s,component:o}=t,{props:i,children:a,patchFlag:c}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Ia(r,i,u):!!i;if(c&8){const l=e.dynamicProps;for(let f=0;f<l.length;f++){const h=l[f];if(i[h]!==r[h]&&!Js(u,h))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?Ia(r,i,u):!0:!!i;return!1}function Ia(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(e[o]!==t[o]&&!Js(n,o))return!0}return!1}function th({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Cl="components";function nh(t,e){return sh(Cl,t,!0,e)||t}const rh=Symbol.for("v-ndc");function sh(t,e,n=!0,r=!1){const s=ze||je;if(s){const o=s.type;if(t===Cl){const a=Qh(o,!1);if(a&&(a===e||a===Et(e)||a===Ws(Et(e))))return o}const i=Ta(s[t]||o[t],e)||Ta(s.appContext[t],e);return!i&&r?o:i}}function Ta(t,e){return t&&(t[e]||t[Et(e)]||t[Ws(Et(e))])}const oh=t=>t.__isSuspense;function ih(t,e){e&&e.pendingBranch?J(t)?e.effects.push(...t):e.effects.push(t):Jf(t)}const ah=Symbol.for("v-scx"),ch=()=>Ct(ah),Zr={};function hr(t,e,n){return El(t,e,n)}function El(t,e,{immediate:n,deep:r,flush:s,once:o,onTrack:i,onTrigger:a}=ge){if(e&&o){const R=e;e=(...T)=>{R(...T),O()}}const c=je,u=R=>r===!0?R:un(R,r===!1?1:void 0);let l,f=!1,h=!1;if(Je(t)?(l=()=>t.value,f=Rs(t)):Un(t)?(l=()=>u(t),f=!0):J(t)?(h=!0,f=t.some(R=>Un(R)||Rs(R)),l=()=>t.map(R=>{if(Je(R))return R.value;if(Un(R))return u(R);if(Z(R))return Yt(R,c,2)})):Z(t)?e?l=()=>Yt(t,c,2):l=()=>(p&&p(),ht(t,c,3,[_])):l=st,e&&r){const R=l;l=()=>un(R())}let p,_=R=>{p=S.onStop=()=>{Yt(R,c,4),p=S.onStop=void 0}},m;if(Zs)if(_=st,e?n&&ht(e,c,3,[l(),h?[]:void 0,_]):l(),s==="sync"){const R=ch();m=R.__watcherHandles||(R.__watcherHandles=[])}else return st;let v=h?new Array(t.length).fill(Zr):Zr;const y=()=>{if(!(!S.active||!S.dirty))if(e){const R=S.run();(r||f||(h?R.some((T,z)=>Zt(T,v[z])):Zt(R,v)))&&(p&&p(),ht(e,c,3,[R,v===Zr?void 0:h&&v[0]===Zr?[]:v,_]),v=R)}else S.run()};y.allowRecurse=!!e;let b;s==="sync"?b=y:s==="post"?b=()=>We(y,c&&c.suspense):(y.pre=!0,c&&(y.id=c.uid),b=()=>Li(y));const S=new Oi(l,st,b),I=wf(),O=()=>{S.stop(),I&&ki(I.effects,S)};return e?n?y():v=S.run():s==="post"?We(S.run.bind(S),c&&c.suspense):S.run(),m&&m.push(O),O}function lh(t,e,n){const r=this.proxy,s=Ie(t)?t.includes(".")?xl(r,t):()=>r[t]:t.bind(r,r);let o;Z(e)?o=e:(o=e.handler,n=e);const i=Lr(this),a=El(s,o.bind(r),n);return i(),a}function xl(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function un(t,e,n=0,r){if(!de(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),Je(t))un(t.value,e,n,r);else if(J(t))for(let s=0;s<t.length;s++)un(t[s],e,n,r);else if(Hs(t)||Nn(t))t.forEach(s=>{un(s,e,n,r)});else if(Gc(t))for(const s in t)un(t[s],e,n,r);return t}function U_(t,e){if(ze===null)return t;const n=eo(ze)||ze.proxy,r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,i,a,c=ge]=e[s];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&un(i),r.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:c}))}return t}function rn(t,e,n,r){const s=t.dirs,o=e&&e.dirs;for(let i=0;i<s.length;i++){const a=s[i];o&&(a.oldValue=o[i].value);let c=a.dir[r];c&&(En(),ht(c,n,8,[t.el,a,t,e]),xn())}}/*! #__NO_SIDE_EFFECTS__ */function Rl(t,e){return Z(t)?De({name:t.name},e,{setup:t}):t}const us=t=>!!t.type.__asyncLoader,Pl=t=>t.type.__isKeepAlive;function uh(t,e){kl(t,"a",e)}function fh(t,e){kl(t,"da",e)}function kl(t,e,n=je){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Xs(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Pl(s.parent.vnode)&&hh(r,e,n,s),s=s.parent}}function hh(t,e,n,r){const s=Xs(e,t,r,!0);Il(()=>{ki(r[e],s)},n)}function Xs(t,e,n=je,r=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;En();const a=Lr(n),c=ht(e,n,t,i);return a(),xn(),c});return r?s.unshift(o):s.push(o),o}}const $t=t=>(e,n=je)=>(!Zs||t==="sp")&&Xs(t,(...r)=>e(...r),n),dh=$t("bm"),ph=$t("m"),gh=$t("bu"),mh=$t("u"),_h=$t("bum"),Il=$t("um"),yh=$t("sp"),bh=$t("rtg"),vh=$t("rtc");function wh(t,e=je){Xs("ec",t,e)}function Sh(t,e,n,r){let s;const o=n&&n[r];if(J(t)||Ie(t)){s=new Array(t.length);for(let i=0,a=t.length;i<a;i++)s[i]=e(t[i],i,void 0,o&&o[i])}else if(typeof t=="number"){s=new Array(t);for(let i=0;i<t;i++)s[i]=e(i+1,i,void 0,o&&o[i])}else if(de(t))if(t[Symbol.iterator])s=Array.from(t,(i,a)=>e(i,a,void 0,o&&o[a]));else{const i=Object.keys(t);s=new Array(i.length);for(let a=0,c=i.length;a<c;a++){const u=i[a];s[a]=e(t[u],u,a,o&&o[a])}}else s=[];return n&&(n[r]=s),s}const $o=t=>t?Kl(t)?eo(t)||t.proxy:$o(t.parent):null,dr=De(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$o(t.parent),$root:t=>$o(t.root),$emit:t=>t.emit,$options:t=>Ki(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Li(t.update)}),$nextTick:t=>t.n||(t.n=Fi.bind(t.proxy)),$watch:t=>lh.bind(t)}),po=(t,e)=>t!==ge&&!t.__isScriptSetup&&oe(t,e),Ch={get({_:t},e){const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const p=i[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(po(r,e))return i[e]=1,r[e];if(s!==ge&&oe(s,e))return i[e]=2,s[e];if((u=t.propsOptions[0])&&oe(u,e))return i[e]=3,o[e];if(n!==ge&&oe(n,e))return i[e]=4,n[e];Bo&&(i[e]=0)}}const l=dr[e];let f,h;if(l)return e==="$attrs"&&Ge(t,"get",e),l(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==ge&&oe(n,e))return i[e]=4,n[e];if(h=c.config.globalProperties,oe(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:o}=t;return po(s,e)?(s[e]=n,!0):r!==ge&&oe(r,e)?(r[e]=n,!0):oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:o}},i){let a;return!!n[i]||t!==ge&&oe(t,i)||po(e,i)||(a=o[0])&&oe(a,i)||oe(r,i)||oe(dr,i)||oe(s.config.globalProperties,i)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:oe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Aa(t){return J(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Bo=!0;function Eh(t){const e=Ki(t),n=t.proxy,r=t.ctx;Bo=!1,e.beforeCreate&&Oa(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:i,watch:a,provide:c,inject:u,created:l,beforeMount:f,mounted:h,beforeUpdate:p,updated:_,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:b,destroyed:S,unmounted:I,render:O,renderTracked:R,renderTriggered:T,errorCaptured:z,serverPrefetch:N,expose:se,inheritAttrs:ee,components:we,directives:fe,filters:le}=e;if(u&&xh(u,r,null),i)for(const Y in i){const te=i[Y];Z(te)&&(r[Y]=te.bind(n))}if(s){const Y=s.call(n,n);de(Y)&&(t.data=Yn(Y))}if(Bo=!0,o)for(const Y in o){const te=o[Y],Fe=Z(te)?te.bind(n,n):Z(te.get)?te.get.bind(n,n):st,tt=!Z(te)&&Z(te.set)?te.set.bind(n):st,gt=lt({get:Fe,set:tt});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>gt.value,set:qe=>gt.value=qe})}if(a)for(const Y in a)Tl(a[Y],r,n,Y);if(c){const Y=Z(c)?c.call(n):c;Reflect.ownKeys(Y).forEach(te=>{fs(te,Y[te])})}l&&Oa(l,t,"c");function pe(Y,te){J(te)?te.forEach(Fe=>Y(Fe.bind(n))):te&&Y(te.bind(n))}if(pe(dh,f),pe(ph,h),pe(gh,p),pe(mh,_),pe(uh,m),pe(fh,v),pe(wh,z),pe(vh,R),pe(bh,T),pe(_h,b),pe(Il,I),pe(yh,N),J(se))if(se.length){const Y=t.exposed||(t.exposed={});se.forEach(te=>{Object.defineProperty(Y,te,{get:()=>n[te],set:Fe=>n[te]=Fe})})}else t.exposed||(t.exposed={});O&&t.render===st&&(t.render=O),ee!=null&&(t.inheritAttrs=ee),we&&(t.components=we),fe&&(t.directives=fe)}function xh(t,e,n=st){J(t)&&(t=Fo(t));for(const r in t){const s=t[r];let o;de(s)?"default"in s?o=Ct(s.from||r,s.default,!0):o=Ct(s.from||r):o=Ct(s),Je(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):e[r]=o}}function Oa(t,e,n){ht(J(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Tl(t,e,n,r){const s=r.includes(".")?xl(n,r):()=>n[r];if(Ie(t)){const o=e[t];Z(o)&&hr(s,o)}else if(Z(t))hr(s,t.bind(n));else if(de(t))if(J(t))t.forEach(o=>Tl(o,e,n,r));else{const o=Z(t.handler)?t.handler.bind(n):e[t.handler];Z(o)&&hr(s,o,t)}}function Ki(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=t.appContext,a=o.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(u=>ks(c,u,i,!0)),ks(c,e,i)),de(e)&&o.set(e,c),c}function ks(t,e,n,r=!1){const{mixins:s,extends:o}=e;o&&ks(t,o,n,!0),s&&s.forEach(i=>ks(t,i,n,!0));for(const i in e)if(!(r&&i==="expose")){const a=Rh[i]||n&&n[i];t[i]=a?a(t[i],e[i]):e[i]}return t}const Rh={data:Da,props:Ma,emits:Ma,methods:ar,computed:ar,beforeCreate:Le,created:Le,beforeMount:Le,mounted:Le,beforeUpdate:Le,updated:Le,beforeDestroy:Le,beforeUnmount:Le,destroyed:Le,unmounted:Le,activated:Le,deactivated:Le,errorCaptured:Le,serverPrefetch:Le,components:ar,directives:ar,watch:kh,provide:Da,inject:Ph};function Da(t,e){return e?t?function(){return De(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function Ph(t,e){return ar(Fo(t),Fo(e))}function Fo(t){if(J(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Le(t,e){return t?[...new Set([].concat(t,e))]:e}function ar(t,e){return t?De(Object.create(null),t,e):e}function Ma(t,e){return t?J(t)&&J(e)?[...new Set([...t,...e])]:De(Object.create(null),Aa(t),Aa(e??{})):e}function kh(t,e){if(!t)return e;if(!e)return t;const n=De(Object.create(null),t);for(const r in e)n[r]=Le(t[r],e[r]);return n}function Al(){return{app:null,config:{isNativeTag:sf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ih=0;function Th(t,e){return function(r,s=null){Z(r)||(r=De({},r)),s!=null&&!de(s)&&(s=null);const o=Al(),i=new WeakSet;let a=!1;const c=o.app={_uid:Ih++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:ed,get config(){return o.config},set config(u){},use(u,...l){return i.has(u)||(u&&Z(u.install)?(i.add(u),u.install(c,...l)):Z(u)&&(i.add(u),u(c,...l))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,l){return l?(o.components[u]=l,c):o.components[u]},directive(u,l){return l?(o.directives[u]=l,c):o.directives[u]},mount(u,l,f){if(!a){const h=Ae(r,s);return h.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),l&&e?e(h,u):t(h,u,f),a=!0,c._container=u,u.__vue_app__=c,eo(h.component)||h.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(u,l){return o.provides[u]=l,c},runWithContext(u){const l=pr;pr=c;try{return u()}finally{pr=l}}};return c}}let pr=null;function fs(t,e){if(je){let n=je.provides;const r=je.parent&&je.parent.provides;r===n&&(n=je.provides=Object.create(r)),n[t]=e}}function Ct(t,e,n=!1){const r=je||ze;if(r||pr){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:pr._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Z(e)?e.call(r&&r.proxy):e}}function Ah(t,e,n,r=!1){const s={},o={};xs(o,Qs,1),t.propsDefaults=Object.create(null),Ol(t,e,s,o);for(const i in t.propsOptions[0])i in s||(s[i]=void 0);n?t.props=r?s:ll(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function Oh(t,e,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=t,a=ie(s),[c]=t.propsOptions;let u=!1;if((r||i>0)&&!(i&16)){if(i&8){const l=t.vnode.dynamicProps;for(let f=0;f<l.length;f++){let h=l[f];if(Js(t.emitsOptions,h))continue;const p=e[h];if(c)if(oe(o,h))p!==o[h]&&(o[h]=p,u=!0);else{const _=Et(h);s[_]=Lo(c,a,_,p,t,!1)}else p!==o[h]&&(o[h]=p,u=!0)}}}else{Ol(t,e,s,o)&&(u=!0);let l;for(const f in a)(!e||!oe(e,f)&&((l=Cn(f))===f||!oe(e,l)))&&(c?n&&(n[f]!==void 0||n[l]!==void 0)&&(s[f]=Lo(c,a,f,void 0,t,!0)):delete s[f]);if(o!==a)for(const f in o)(!e||!oe(e,f))&&(delete o[f],u=!0)}u&&Dt(t,"set","$attrs")}function Ol(t,e,n,r){const[s,o]=t.propsOptions;let i=!1,a;if(e)for(let c in e){if(ur(c))continue;const u=e[c];let l;s&&oe(s,l=Et(c))?!o||!o.includes(l)?n[l]=u:(a||(a={}))[l]=u:Js(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,i=!0)}if(o){const c=ie(n),u=a||ge;for(let l=0;l<o.length;l++){const f=o[l];n[f]=Lo(s,c,f,u[f],t,!oe(u,f))}}return i}function Lo(t,e,n,r,s,o){const i=t[n];if(i!=null){const a=oe(i,"default");if(a&&r===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&Z(c)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const l=Lr(s);r=u[n]=c.call(null,e),l()}}else r=c}i[0]&&(o&&!a?r=!1:i[1]&&(r===""||r===Cn(n))&&(r=!0))}return r}function Dl(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const o=t.props,i={},a=[];let c=!1;if(!Z(t)){const l=f=>{c=!0;const[h,p]=Dl(f,e,!0);De(i,h),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!o&&!c)return de(t)&&r.set(t,Mn),Mn;if(J(o))for(let l=0;l<o.length;l++){const f=Et(o[l]);Na(f)&&(i[f]=ge)}else if(o)for(const l in o){const f=Et(l);if(Na(f)){const h=o[l],p=i[f]=J(h)||Z(h)?{type:h}:De({},h);if(p){const _=$a(Boolean,p.type),m=$a(String,p.type);p[0]=_>-1,p[1]=m<0||_<m,(_>-1||oe(p,"default"))&&a.push(f)}}}const u=[i,a];return de(t)&&r.set(t,u),u}function Na(t){return t[0]!=="$"&&!ur(t)}function Ua(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function ja(t,e){return Ua(t)===Ua(e)}function $a(t,e){return J(e)?e.findIndex(n=>ja(n,t)):Z(e)&&ja(e,t)?0:-1}const Ml=t=>t[0]==="_"||t==="$stable",Hi=t=>J(t)?t.map(vt):[vt(t)],Dh=(t,e,n)=>{if(e._n)return e;const r=fr((...s)=>Hi(e(...s)),n);return r._c=!1,r},Nl=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Ml(s))continue;const o=t[s];if(Z(o))e[s]=Dh(s,o,r);else if(o!=null){const i=Hi(o);e[s]=()=>i}}},Ul=(t,e)=>{const n=Hi(e);t.slots.default=()=>n},Mh=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ie(e),xs(e,"_",n)):Nl(e,t.slots={})}else t.slots={},e&&Ul(t,e);xs(t.slots,Qs,1)},Nh=(t,e,n)=>{const{vnode:r,slots:s}=t;let o=!0,i=ge;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(De(s,e),!n&&a===1&&delete s._):(o=!e.$stable,Nl(e,s)),i=e}else e&&(Ul(t,e),i={default:1});if(o)for(const a in s)!Ml(a)&&i[a]==null&&delete s[a]};function Ko(t,e,n,r,s=!1){if(J(t)){t.forEach((h,p)=>Ko(h,e&&(J(e)?e[p]:e),n,r,s));return}if(us(r)&&!s)return;const o=r.shapeFlag&4?eo(r.component)||r.component.proxy:r.el,i=s?null:o,{i:a,r:c}=t,u=e&&e.r,l=a.refs===ge?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==c&&(Ie(u)?(l[u]=null,oe(f,u)&&(f[u]=null)):Je(u)&&(u.value=null)),Z(c))Yt(c,a,12,[i,l]);else{const h=Ie(c),p=Je(c);if(h||p){const _=()=>{if(t.f){const m=h?oe(f,c)?f[c]:l[c]:c.value;s?J(m)&&ki(m,o):J(m)?m.includes(o)||m.push(o):h?(l[c]=[o],oe(f,c)&&(f[c]=l[c])):(c.value=[o],t.k&&(l[t.k]=c.value))}else h?(l[c]=i,oe(f,c)&&(f[c]=i)):p&&(c.value=i,t.k&&(l[t.k]=i))};i?(_.id=-1,We(_,n)):_()}}}const We=ih;function Uh(t){return jh(t)}function jh(t,e){const n=Jc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:a,createComment:c,setText:u,setElementText:l,parentNode:f,nextSibling:h,setScopeId:p=st,insertStaticContent:_}=t,m=(d,g,w,k=null,E=null,M=null,$=void 0,D=null,U=!!g.dynamicChildren)=>{if(d===g)return;d&&!nr(d,g)&&(k=P(d),qe(d,E,M,!0),d=null),g.patchFlag===-2&&(U=!1,g.dynamicChildren=null);const{type:A,ref:L,shapeFlag:V}=g;switch(A){case Ys:v(d,g,w,k);break;case bn:y(d,g,w,k);break;case mo:d==null&&b(g,w,k,$);break;case rt:we(d,g,w,k,E,M,$,D,U);break;default:V&1?O(d,g,w,k,E,M,$,D,U):V&6?fe(d,g,w,k,E,M,$,D,U):(V&64||V&128)&&A.process(d,g,w,k,E,M,$,D,U,H)}L!=null&&E&&Ko(L,d&&d.ref,M,g||d,!g)},v=(d,g,w,k)=>{if(d==null)r(g.el=a(g.children),w,k);else{const E=g.el=d.el;g.children!==d.children&&u(E,g.children)}},y=(d,g,w,k)=>{d==null?r(g.el=c(g.children||""),w,k):g.el=d.el},b=(d,g,w,k)=>{[d.el,d.anchor]=_(d.children,g,w,k,d.el,d.anchor)},S=({el:d,anchor:g},w,k)=>{let E;for(;d&&d!==g;)E=h(d),r(d,w,k),d=E;r(g,w,k)},I=({el:d,anchor:g})=>{let w;for(;d&&d!==g;)w=h(d),s(d),d=w;s(g)},O=(d,g,w,k,E,M,$,D,U)=>{g.type==="svg"?$="svg":g.type==="math"&&($="mathml"),d==null?R(g,w,k,E,M,$,D,U):N(d,g,E,M,$,D,U)},R=(d,g,w,k,E,M,$,D)=>{let U,A;const{props:L,shapeFlag:V,transition:q,dirs:X}=d;if(U=d.el=i(d.type,M,L&&L.is,L),V&8?l(U,d.children):V&16&&z(d.children,U,null,k,E,go(d,M),$,D),X&&rn(d,null,k,"created"),T(U,d,d.scopeId,$,k),L){for(const ue in L)ue!=="value"&&!ur(ue)&&o(U,ue,null,L[ue],M,d.children,k,E,Me);"value"in L&&o(U,"value",null,L.value,M),(A=L.onVnodeBeforeMount)&&_t(A,k,d)}X&&rn(d,null,k,"beforeMount");const ne=$h(E,q);ne&&q.beforeEnter(U),r(U,g,w),((A=L&&L.onVnodeMounted)||ne||X)&&We(()=>{A&&_t(A,k,d),ne&&q.enter(U),X&&rn(d,null,k,"mounted")},E)},T=(d,g,w,k,E)=>{if(w&&p(d,w),k)for(let M=0;M<k.length;M++)p(d,k[M]);if(E){let M=E.subTree;if(g===M){const $=E.vnode;T(d,$,$.scopeId,$.slotScopeIds,E.parent)}}},z=(d,g,w,k,E,M,$,D,U=0)=>{for(let A=U;A<d.length;A++){const L=d[A]=D?Wt(d[A]):vt(d[A]);m(null,L,g,w,k,E,M,$,D)}},N=(d,g,w,k,E,M,$)=>{const D=g.el=d.el;let{patchFlag:U,dynamicChildren:A,dirs:L}=g;U|=d.patchFlag&16;const V=d.props||ge,q=g.props||ge;let X;if(w&&sn(w,!1),(X=q.onVnodeBeforeUpdate)&&_t(X,w,g,d),L&&rn(g,d,w,"beforeUpdate"),w&&sn(w,!0),A?se(d.dynamicChildren,A,D,w,k,go(g,E),M):$||te(d,g,D,null,w,k,go(g,E),M,!1),U>0){if(U&16)ee(D,g,V,q,w,k,E);else if(U&2&&V.class!==q.class&&o(D,"class",null,q.class,E),U&4&&o(D,"style",V.style,q.style,E),U&8){const ne=g.dynamicProps;for(let ue=0;ue<ne.length;ue++){const ye=ne[ue],Te=V[ye],at=q[ye];(at!==Te||ye==="value")&&o(D,ye,Te,at,E,d.children,w,k,Me)}}U&1&&d.children!==g.children&&l(D,g.children)}else!$&&A==null&&ee(D,g,V,q,w,k,E);((X=q.onVnodeUpdated)||L)&&We(()=>{X&&_t(X,w,g,d),L&&rn(g,d,w,"updated")},k)},se=(d,g,w,k,E,M,$)=>{for(let D=0;D<g.length;D++){const U=d[D],A=g[D],L=U.el&&(U.type===rt||!nr(U,A)||U.shapeFlag&70)?f(U.el):w;m(U,A,L,null,k,E,M,$,!0)}},ee=(d,g,w,k,E,M,$)=>{if(w!==k){if(w!==ge)for(const D in w)!ur(D)&&!(D in k)&&o(d,D,w[D],null,$,g.children,E,M,Me);for(const D in k){if(ur(D))continue;const U=k[D],A=w[D];U!==A&&D!=="value"&&o(d,D,A,U,$,g.children,E,M,Me)}"value"in k&&o(d,"value",w.value,k.value,$)}},we=(d,g,w,k,E,M,$,D,U)=>{const A=g.el=d?d.el:a(""),L=g.anchor=d?d.anchor:a("");let{patchFlag:V,dynamicChildren:q,slotScopeIds:X}=g;X&&(D=D?D.concat(X):X),d==null?(r(A,w,k),r(L,w,k),z(g.children||[],w,L,E,M,$,D,U)):V>0&&V&64&&q&&d.dynamicChildren?(se(d.dynamicChildren,q,w,E,M,$,D),(g.key!=null||E&&g===E.subTree)&&jl(d,g,!0)):te(d,g,w,L,E,M,$,D,U)},fe=(d,g,w,k,E,M,$,D,U)=>{g.slotScopeIds=D,d==null?g.shapeFlag&512?E.ctx.activate(g,w,k,$,U):le(g,w,k,E,M,$,U):Xe(d,g,U)},le=(d,g,w,k,E,M,$)=>{const D=d.component=zh(d,k,E);if(Pl(d)&&(D.ctx.renderer=H),Gh(D),D.asyncDep){if(E&&E.registerDep(D,pe),!d.el){const U=D.subTree=Ae(bn);y(null,U,g,w)}}else pe(D,d,g,w,E,M,$)},Xe=(d,g,w)=>{const k=g.component=d.component;if(eh(d,g,w))if(k.asyncDep&&!k.asyncResolved){Y(k,g,w);return}else k.next=g,Gf(k.update),k.effect.dirty=!0,k.update();else g.el=d.el,k.vnode=g},pe=(d,g,w,k,E,M,$)=>{const D=()=>{if(d.isMounted){let{next:L,bu:V,u:q,parent:X,vnode:ne}=d;{const In=$l(d);if(In){L&&(L.el=ne.el,Y(d,L,$)),In.asyncDep.then(()=>{d.isUnmounted||D()});return}}let ue=L,ye;sn(d,!1),L?(L.el=ne.el,Y(d,L,$)):L=ne,V&&cs(V),(ye=L.props&&L.props.onVnodeBeforeUpdate)&&_t(ye,X,L,ne),sn(d,!0);const Te=ho(d),at=d.subTree;d.subTree=Te,m(at,Te,f(at.el),P(at),d,E,M),L.el=Te.el,ue===null&&th(d,Te.el),q&&We(q,E),(ye=L.props&&L.props.onVnodeUpdated)&&We(()=>_t(ye,X,L,ne),E)}else{let L;const{el:V,props:q}=g,{bm:X,m:ne,parent:ue}=d,ye=us(g);if(sn(d,!1),X&&cs(X),!ye&&(L=q&&q.onVnodeBeforeMount)&&_t(L,ue,g),sn(d,!0),V&&_e){const Te=()=>{d.subTree=ho(d),_e(V,d.subTree,d,E,null)};ye?g.type.__asyncLoader().then(()=>!d.isUnmounted&&Te()):Te()}else{const Te=d.subTree=ho(d);m(null,Te,w,k,d,E,M),g.el=Te.el}if(ne&&We(ne,E),!ye&&(L=q&&q.onVnodeMounted)){const Te=g;We(()=>_t(L,ue,Te),E)}(g.shapeFlag&256||ue&&us(ue.vnode)&&ue.vnode.shapeFlag&256)&&d.a&&We(d.a,E),d.isMounted=!0,g=w=k=null}},U=d.effect=new Oi(D,st,()=>Li(A),d.scope),A=d.update=()=>{U.dirty&&U.run()};A.id=d.uid,sn(d,!0),A()},Y=(d,g,w)=>{g.component=d;const k=d.vnode.props;d.vnode=g,d.next=null,Oh(d,g.props,k,w),Nh(d,g.children,w),En(),ka(d),xn()},te=(d,g,w,k,E,M,$,D,U=!1)=>{const A=d&&d.children,L=d?d.shapeFlag:0,V=g.children,{patchFlag:q,shapeFlag:X}=g;if(q>0){if(q&128){tt(A,V,w,k,E,M,$,D,U);return}else if(q&256){Fe(A,V,w,k,E,M,$,D,U);return}}X&8?(L&16&&Me(A,E,M),V!==A&&l(w,V)):L&16?X&16?tt(A,V,w,k,E,M,$,D,U):Me(A,E,M,!0):(L&8&&l(w,""),X&16&&z(V,w,k,E,M,$,D,U))},Fe=(d,g,w,k,E,M,$,D,U)=>{d=d||Mn,g=g||Mn;const A=d.length,L=g.length,V=Math.min(A,L);let q;for(q=0;q<V;q++){const X=g[q]=U?Wt(g[q]):vt(g[q]);m(d[q],X,w,null,E,M,$,D,U)}A>L?Me(d,E,M,!0,!1,V):z(g,w,k,E,M,$,D,U,V)},tt=(d,g,w,k,E,M,$,D,U)=>{let A=0;const L=g.length;let V=d.length-1,q=L-1;for(;A<=V&&A<=q;){const X=d[A],ne=g[A]=U?Wt(g[A]):vt(g[A]);if(nr(X,ne))m(X,ne,w,null,E,M,$,D,U);else break;A++}for(;A<=V&&A<=q;){const X=d[V],ne=g[q]=U?Wt(g[q]):vt(g[q]);if(nr(X,ne))m(X,ne,w,null,E,M,$,D,U);else break;V--,q--}if(A>V){if(A<=q){const X=q+1,ne=X<L?g[X].el:k;for(;A<=q;)m(null,g[A]=U?Wt(g[A]):vt(g[A]),w,ne,E,M,$,D,U),A++}}else if(A>q)for(;A<=V;)qe(d[A],E,M,!0),A++;else{const X=A,ne=A,ue=new Map;for(A=ne;A<=q;A++){const Ye=g[A]=U?Wt(g[A]):vt(g[A]);Ye.key!=null&&ue.set(Ye.key,A)}let ye,Te=0;const at=q-ne+1;let In=!1,ma=0;const tr=new Array(at);for(A=0;A<at;A++)tr[A]=0;for(A=X;A<=V;A++){const Ye=d[A];if(Te>=at){qe(Ye,E,M,!0);continue}let mt;if(Ye.key!=null)mt=ue.get(Ye.key);else for(ye=ne;ye<=q;ye++)if(tr[ye-ne]===0&&nr(Ye,g[ye])){mt=ye;break}mt===void 0?qe(Ye,E,M,!0):(tr[mt-ne]=A+1,mt>=ma?ma=mt:In=!0,m(Ye,g[mt],w,null,E,M,$,D,U),Te++)}const _a=In?Bh(tr):Mn;for(ye=_a.length-1,A=at-1;A>=0;A--){const Ye=ne+A,mt=g[Ye],ya=Ye+1<L?g[Ye+1].el:k;tr[A]===0?m(null,mt,w,ya,E,M,$,D,U):In&&(ye<0||A!==_a[ye]?gt(mt,w,ya,2):ye--)}}},gt=(d,g,w,k,E=null)=>{const{el:M,type:$,transition:D,children:U,shapeFlag:A}=d;if(A&6){gt(d.component.subTree,g,w,k);return}if(A&128){d.suspense.move(g,w,k);return}if(A&64){$.move(d,g,w,H);return}if($===rt){r(M,g,w);for(let V=0;V<U.length;V++)gt(U[V],g,w,k);r(d.anchor,g,w);return}if($===mo){S(d,g,w);return}if(k!==2&&A&1&&D)if(k===0)D.beforeEnter(M),r(M,g,w),We(()=>D.enter(M),E);else{const{leave:V,delayLeave:q,afterLeave:X}=D,ne=()=>r(M,g,w),ue=()=>{V(M,()=>{ne(),X&&X()})};q?q(M,ne,ue):ue()}else r(M,g,w)},qe=(d,g,w,k=!1,E=!1)=>{const{type:M,props:$,ref:D,children:U,dynamicChildren:A,shapeFlag:L,patchFlag:V,dirs:q}=d;if(D!=null&&Ko(D,null,w,d,!0),L&256){g.ctx.deactivate(d);return}const X=L&1&&q,ne=!us(d);let ue;if(ne&&(ue=$&&$.onVnodeBeforeUnmount)&&_t(ue,g,d),L&6)zr(d.component,w,k);else{if(L&128){d.suspense.unmount(w,k);return}X&&rn(d,null,g,"beforeUnmount"),L&64?d.type.remove(d,g,w,E,H,k):A&&(M!==rt||V>0&&V&64)?Me(A,g,w,!1,!0):(M===rt&&V&384||!E&&L&16)&&Me(U,g,w),k&&Pn(d)}(ne&&(ue=$&&$.onVnodeUnmounted)||X)&&We(()=>{ue&&_t(ue,g,d),X&&rn(d,null,g,"unmounted")},w)},Pn=d=>{const{type:g,el:w,anchor:k,transition:E}=d;if(g===rt){kn(w,k);return}if(g===mo){I(d);return}const M=()=>{s(w),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(d.shapeFlag&1&&E&&!E.persisted){const{leave:$,delayLeave:D}=E,U=()=>$(w,M);D?D(d.el,M,U):U()}else M()},kn=(d,g)=>{let w;for(;d!==g;)w=h(d),s(d),d=w;s(g)},zr=(d,g,w)=>{const{bum:k,scope:E,update:M,subTree:$,um:D}=d;k&&cs(k),E.stop(),M&&(M.active=!1,qe($,d,g,w)),D&&We(D,g),We(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Me=(d,g,w,k=!1,E=!1,M=0)=>{for(let $=M;$<d.length;$++)qe(d[$],g,w,k,E)},P=d=>d.shapeFlag&6?P(d.component.subTree):d.shapeFlag&128?d.suspense.next():h(d.anchor||d.el);let F=!1;const j=(d,g,w)=>{d==null?g._vnode&&qe(g._vnode,null,null,!0):m(g._vnode||null,d,g,null,null,null,w),F||(F=!0,ka(),bl(),F=!1),g._vnode=d},H={p:m,um:qe,m:gt,r:Pn,mt:le,mc:z,pc:te,pbc:se,n:P,o:t};let ae,_e;return e&&([ae,_e]=e(H)),{render:j,hydrate:ae,createApp:Th(j,ae)}}function go({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function sn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function $h(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function jl(t,e,n=!1){const r=t.children,s=e.children;if(J(r)&&J(s))for(let o=0;o<r.length;o++){const i=r[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=Wt(s[o]),a.el=i.el),n||jl(i,a)),a.type===Ys&&(a.el=i.el)}}function Bh(t){const e=t.slice(),n=[0];let r,s,o,i,a;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,t[n[a]]<u?o=a+1:i=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=e[i];return n}function $l(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:$l(e)}const Fh=t=>t.__isTeleport,rt=Symbol.for("v-fgt"),Ys=Symbol.for("v-txt"),bn=Symbol.for("v-cmt"),mo=Symbol.for("v-stc"),gr=[];let ut=null;function $n(t=!1){gr.push(ut=t?null:[])}function Lh(){gr.pop(),ut=gr[gr.length-1]||null}let Pr=1;function Ba(t){Pr+=t}function Bl(t){return t.dynamicChildren=Pr>0?ut||Mn:null,Lh(),Pr>0&&ut&&ut.push(t),t}function hs(t,e,n,r,s,o){return Bl(Tt(t,e,n,r,s,o,!0))}function Fl(t,e,n,r,s){return Bl(Ae(t,e,n,r,s,!0))}function Ho(t){return t?t.__v_isVNode===!0:!1}function nr(t,e){return t.type===e.type&&t.key===e.key}const Qs="__vInternal",Ll=({key:t})=>t??null,ds=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ie(t)||Je(t)||Z(t)?{i:ze,r:t,k:e,f:!!n}:t:null);function Tt(t,e=null,n=null,r=0,s=null,o=t===rt?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ll(e),ref:e&&ds(e),scopeId:Sl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ze};return a?(qi(c,n),o&128&&t.normalize(c)):n&&(c.shapeFlag|=Ie(n)?8:16),Pr>0&&!i&&ut&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&ut.push(c),c}const Ae=Kh;function Kh(t,e=null,n=null,r=0,s=null,o=!1){if((!t||t===rh)&&(t=bn),Ho(t)){const a=qn(t,e,!0);return n&&qi(a,n),Pr>0&&!o&&ut&&(a.shapeFlag&6?ut[ut.indexOf(t)]=a:ut.push(a)),a.patchFlag|=-2,a}if(Zh(t)&&(t=t.__vccOpts),e){e=Hh(e);let{class:a,style:c}=e;a&&!Ie(a)&&(e.class=Ai(a)),de(c)&&(fl(c)&&!J(c)&&(c=De({},c)),e.style=Ti(c))}const i=Ie(t)?1:oh(t)?128:Fh(t)?64:de(t)?4:Z(t)?2:0;return Tt(t,e,n,r,s,i,o,!0)}function Hh(t){return t?fl(t)||Qs in t?De({},t):t:null}function qn(t,e,n=!1){const{props:r,ref:s,patchFlag:o,children:i}=t,a=e?qh(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Ll(a),ref:e&&e.ref?n&&s?J(s)?s.concat(ds(e)):[s,ds(e)]:ds(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:i,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==rt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qn(t.ssContent),ssFallback:t.ssFallback&&qn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function qt(t=" ",e=0){return Ae(Ys,null,t,e)}function j_(t="",e=!1){return e?($n(),Fl(bn,null,t)):Ae(bn,null,t)}function vt(t){return t==null||typeof t=="boolean"?Ae(bn):J(t)?Ae(rt,null,t.slice()):typeof t=="object"?Wt(t):Ae(Ys,null,String(t))}function Wt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:qn(t)}function qi(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(J(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),qi(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Qs in e)?e._ctx=ze:s===3&&ze&&(ze.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:ze},n=32):(e=String(e),r&64?(n=16,e=[qt(e)]):n=8);t.children=e,t.shapeFlag|=n}function qh(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ai([e.class,r.class]));else if(s==="style")e.style=Ti([e.style,r.style]);else if(Ks(s)){const o=e[s],i=r[s];i&&o!==i&&!(J(o)&&o.includes(i))&&(e[s]=o?[].concat(o,i):i)}else s!==""&&(e[s]=r[s])}return e}function _t(t,e,n,r=null){ht(t,e,7,[n,r])}const Wh=Al();let Vh=0;function zh(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Wh,o={uid:Vh++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new bf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Dl(r,s),emitsOptions:wl(r,s),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:r.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Yf.bind(null,o),t.ce&&t.ce(o),o}let je=null,Is,qo;{const t=Jc(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),o=>{s.length>1?s.forEach(i=>i(o)):s[0](o)}};Is=e("__VUE_INSTANCE_SETTERS__",n=>je=n),qo=e("__VUE_SSR_SETTERS__",n=>Zs=n)}const Lr=t=>{const e=je;return Is(t),t.scope.on(),()=>{t.scope.off(),Is(e)}},Fa=()=>{je&&je.scope.off(),Is(null)};function Kl(t){return t.vnode.shapeFlag&4}let Zs=!1;function Gh(t,e=!1){e&&qo(e);const{props:n,children:r}=t.vnode,s=Kl(t);Ah(t,n,s,e),Mh(t,r);const o=s?Jh(t,e):void 0;return e&&qo(!1),o}function Jh(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=hl(new Proxy(t.ctx,Ch));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Yh(t):null,o=Lr(t);En();const i=Yt(r,t,0,[t.props,s]);if(xn(),o(),Vc(i)){if(i.then(Fa,Fa),e)return i.then(a=>{La(t,a,e)}).catch(a=>{Gs(a,t,0)});t.asyncDep=i}else La(t,i,e)}else Hl(t,e)}function La(t,e,n){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:de(e)&&(t.setupState=ml(e)),Hl(t,n)}let Ka;function Hl(t,e,n){const r=t.type;if(!t.render){if(!e&&Ka&&!r.render){const s=r.template||Ki(t).template;if(s){const{isCustomElement:o,compilerOptions:i}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,u=De(De({isCustomElement:o,delimiters:a},i),c);r.render=Ka(s,u)}}t.render=r.render||st}{const s=Lr(t);En();try{Eh(t)}finally{xn(),s()}}}function Xh(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ge(t,"get","$attrs"),e[n]}}))}function Yh(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Xh(t)},slots:t.slots,emit:t.emit,expose:e}}function eo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ml(hl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in dr)return dr[n](t)},has(e,n){return n in e||n in dr}}))}function Qh(t,e=!0){return Z(t)?t.displayName||t.name:t.name||e&&t.__name}function Zh(t){return Z(t)&&"__vccOpts"in t}const lt=(t,e)=>Lf(t,e,Zs);function ql(t,e,n){const r=arguments.length;return r===2?de(e)&&!J(e)?Ho(e)?Ae(t,null,[e]):Ae(t,e):Ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ho(n)&&(n=[n]),Ae(t,e,n))}const ed="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const td="http://www.w3.org/2000/svg",nd="http://www.w3.org/1998/Math/MathML",Vt=typeof document<"u"?document:null,Ha=Vt&&Vt.createElement("template"),rd={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Vt.createElementNS(td,t):e==="mathml"?Vt.createElementNS(nd,t):Vt.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Vt.createTextNode(t),createComment:t=>Vt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Vt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,o){const i=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{Ha.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=Ha.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[i?i.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},sd=Symbol("_vtc");function od(t,e,n){const r=t[sd];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const qa=Symbol("_vod"),id=Symbol(""),ad=/(^|;)\s*display\s*:/;function cd(t,e,n){const r=t.style,s=Ie(n),o=r.display;let i=!1;if(n&&!s){if(e&&!Ie(e))for(const a in e)n[a]==null&&Wo(r,a,"");for(const a in n)a==="display"&&(i=!0),Wo(r,a,n[a])}else if(s){if(e!==n){const a=r[id];a&&(n+=";"+a),r.cssText=n,i=ad.test(n)}}else e&&t.removeAttribute("style");qa in t&&(t[qa]=i?r.display:"",r.display=o)}const Wa=/\s*!important$/;function Wo(t,e,n){if(J(n))n.forEach(r=>Wo(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=ld(t,e);Wa.test(n)?t.setProperty(Cn(r),n.replace(Wa,""),"important"):t[r]=n}}const Va=["Webkit","Moz","ms"],_o={};function ld(t,e){const n=_o[e];if(n)return n;let r=Et(e);if(r!=="filter"&&r in t)return _o[e]=r;r=Ws(r);for(let s=0;s<Va.length;s++){const o=Va[s]+r;if(o in t)return _o[e]=o}return e}const za="http://www.w3.org/1999/xlink";function ud(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(za,e.slice(6,e.length)):t.setAttributeNS(za,e,n);else{const o=gf(e);n==null||o&&!Xc(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function fd(t,e,n,r,s,o,i){if(e==="innerHTML"||e==="textContent"){r&&i(r,s,o),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,l=n??"";u!==l&&(t.value=l),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Xc(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function ln(t,e,n,r){t.addEventListener(e,n,r)}function hd(t,e,n,r){t.removeEventListener(e,n,r)}const Ga=Symbol("_vei");function dd(t,e,n,r,s=null){const o=t[Ga]||(t[Ga]={}),i=o[e];if(r&&i)i.value=r;else{const[a,c]=pd(e);if(r){const u=o[e]=_d(r,s);ln(t,a,u,c)}else i&&(hd(t,a,i,c),o[e]=void 0)}}const Ja=/(?:Once|Passive|Capture)$/;function pd(t){let e;if(Ja.test(t)){e={};let r;for(;r=t.match(Ja);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Cn(t.slice(2)),e]}let yo=0;const gd=Promise.resolve(),md=()=>yo||(gd.then(()=>yo=0),yo=Date.now());function _d(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ht(yd(r,n.value),e,5,[r])};return n.value=t,n.attached=md(),n}function yd(t,e){if(J(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Xa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,bd=(t,e,n,r,s,o,i,a,c)=>{const u=s==="svg";e==="class"?od(t,r,u):e==="style"?cd(t,n,r):Ks(e)?Pi(e)||dd(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vd(t,e,r,u))?fd(t,e,r,o,i,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ud(t,e,r,u))};function vd(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Xa(e)&&Z(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Xa(e)&&Ie(n)?!1:e in t}const Ts=t=>{const e=t.props["onUpdate:modelValue"]||!1;return J(e)?n=>cs(e,n):e};function wd(t){t.target.composing=!0}function Ya(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Bn=Symbol("_assign"),$_={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Bn]=Ts(s);const o=r||s.props&&s.props.type==="number";ln(t,e?"change":"input",i=>{if(i.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=Cr(a)),t[Bn](a)}),n&&ln(t,"change",()=>{t.value=t.value.trim()}),e||(ln(t,"compositionstart",wd),ln(t,"compositionend",Ya),ln(t,"change",Ya))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},o){if(t[Bn]=Ts(o),t.composing)return;const i=s||t.type==="number"?Cr(t.value):t.value,a=e??"";i!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},B_={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Hs(e);ln(t,"change",()=>{const o=Array.prototype.filter.call(t.options,i=>i.selected).map(i=>n?Cr(As(i)):As(i));t[Bn](t.multiple?s?new Set(o):o:o[0]),t._assigning=!0,Fi(()=>{t._assigning=!1})}),t[Bn]=Ts(r)},mounted(t,{value:e,oldValue:n,modifiers:{number:r}}){Qa(t,e,n,r)},beforeUpdate(t,e,n){t[Bn]=Ts(n)},updated(t,{value:e,oldValue:n,modifiers:{number:r}}){t._assigning||Qa(t,e,n,r)}};function Qa(t,e,n,r){const s=t.multiple,o=J(e);if(!(s&&!o&&!Hs(e))){for(let i=0,a=t.options.length;i<a;i++){const c=t.options[i],u=As(c);if(s)if(o){const l=typeof u;l==="string"||l==="number"?c.selected=e.includes(r?Cr(u):u):c.selected=_f(e,u)>-1}else c.selected=e.has(u);else if(Vs(As(c),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function As(t){return"_value"in t?t._value:t.value}const Sd=["ctrl","shift","alt","meta"],Cd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Sd.some(n=>t[`${n}Key`]&&!e.includes(n))},F_=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...o)=>{for(let i=0;i<e.length;i++){const a=Cd[e[i]];if(a&&a(s,e))return}return t(s,...o)})},Ed={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},L_=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const o=Cn(s.key);if(e.some(i=>i===o||Ed[i]===o))return t(s)})},xd=De({patchProp:bd},rd);let Za;function Rd(){return Za||(Za=Uh(xd))}const Pd=(...t)=>{const e=Rd().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Id(r);if(!s)return;const o=e._component;!Z(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const i=n(s,!1,kd(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},e};function kd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Id(t){return Ie(t)?document.querySelector(t):t}/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const On=typeof document<"u";function Td(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ce=Object.assign;function bo(t,e){const n={};for(const r in e){const s=e[r];n[r]=pt(s)?s.map(t):t(s)}return n}const mr=()=>{},pt=Array.isArray,Wl=/#/g,Ad=/&/g,Od=/\//g,Dd=/=/g,Md=/\?/g,Vl=/\+/g,Nd=/%5B/g,Ud=/%5D/g,zl=/%5E/g,jd=/%60/g,Gl=/%7B/g,$d=/%7C/g,Jl=/%7D/g,Bd=/%20/g;function Wi(t){return encodeURI(""+t).replace($d,"|").replace(Nd,"[").replace(Ud,"]")}function Fd(t){return Wi(t).replace(Gl,"{").replace(Jl,"}").replace(zl,"^")}function Vo(t){return Wi(t).replace(Vl,"%2B").replace(Bd,"+").replace(Wl,"%23").replace(Ad,"%26").replace(jd,"`").replace(Gl,"{").replace(Jl,"}").replace(zl,"^")}function Ld(t){return Vo(t).replace(Dd,"%3D")}function Kd(t){return Wi(t).replace(Wl,"%23").replace(Md,"%3F")}function Hd(t){return t==null?"":Kd(t).replace(Od,"%2F")}function kr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const qd=/\/$/,Wd=t=>t.replace(qd,"");function vo(t,e,n="/"){let r,s={},o="",i="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),o=e.slice(c+1,a>-1?a:e.length),s=t(o)),a>-1&&(r=r||e.slice(0,a),i=e.slice(a,e.length)),r=Jd(r??e,n),{fullPath:r+(o&&"?")+o+i,path:r,query:s,hash:kr(i)}}function Vd(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ec(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function zd(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Wn(e.matched[r],n.matched[s])&&Xl(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Wn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Xl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Gd(t[n],e[n]))return!1;return!0}function Gd(t,e){return pt(t)?tc(t,e):pt(e)?tc(e,t):t===e}function tc(t,e){return pt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Jd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,i,a;for(i=0;i<r.length;i++)if(a=r[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(i).join("/")}var Ir;(function(t){t.pop="pop",t.push="push"})(Ir||(Ir={}));var _r;(function(t){t.back="back",t.forward="forward",t.unknown=""})(_r||(_r={}));function Xd(t){if(!t)if(On){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Wd(t)}const Yd=/^[^#]+#/;function Qd(t,e){return t.replace(Yd,"#")+e}function Zd(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const to=()=>({left:window.scrollX,top:window.scrollY});function ep(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Zd(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function nc(t,e){return(history.state?history.state.position-e:-1)+t}const zo=new Map;function tp(t,e){zo.set(t,e)}function np(t){const e=zo.get(t);return zo.delete(t),e}let rp=()=>location.protocol+"//"+location.host;function Yl(t,e){const{pathname:n,search:r,hash:s}=e,o=t.indexOf("#");if(o>-1){let a=s.includes(t.slice(o))?t.slice(o).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),ec(c,"")}return ec(n,t)+r+s}function sp(t,e,n,r){let s=[],o=[],i=null;const a=({state:h})=>{const p=Yl(t,location),_=n.value,m=e.value;let v=0;if(h){if(n.value=p,e.value=h,i&&i===_){i=null;return}v=m?h.position-m.position:0}else r(p);s.forEach(y=>{y(n.value,_,{delta:v,type:Ir.pop,direction:v?v>0?_r.forward:_r.back:_r.unknown})})};function c(){i=n.value}function u(h){s.push(h);const p=()=>{const _=s.indexOf(h);_>-1&&s.splice(_,1)};return o.push(p),p}function l(){const{history:h}=window;h.state&&h.replaceState(ce({},h.state,{scroll:to()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:c,listen:u,destroy:f}}function rc(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?to():null}}function op(t){const{history:e,location:n}=window,r={value:Yl(t,n)},s={value:e.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(c,u,l){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:rp()+t+c;try{e[l?"replaceState":"pushState"](u,"",h),s.value=u}catch(p){console.error(p),n[l?"replace":"assign"](h)}}function i(c,u){const l=ce({},e.state,rc(s.value.back,c,s.value.forward,!0),u,{position:s.value.position});o(c,l,!0),r.value=c}function a(c,u){const l=ce({},s.value,e.state,{forward:c,scroll:to()});o(l.current,l,!0);const f=ce({},rc(r.value,c,null),{position:l.position+1},u);o(c,f,!1),r.value=c}return{location:r,state:s,push:a,replace:i}}function ip(t){t=Xd(t);const e=op(t),n=sp(t,e.state,e.location,e.replace);function r(o,i=!0){i||n.pauseListeners(),history.go(o)}const s=ce({location:"",base:t,go:r,createHref:Qd.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function ap(t){return typeof t=="string"||t&&typeof t=="object"}function Ql(t){return typeof t=="string"||typeof t=="symbol"}const Ft={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Zl=Symbol("");var sc;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(sc||(sc={}));function Vn(t,e){return ce(new Error,{type:t,[Zl]:!0},e)}function Pt(t,e){return t instanceof Error&&Zl in t&&(e==null||!!(t.type&e))}const oc="[^/]+?",cp={sensitive:!1,strict:!1,start:!0,end:!0},lp=/[.+*?^${}()[\]/\\]/g;function up(t,e){const n=ce({},cp,e),r=[];let s=n.start?"^":"";const o=[];for(const u of t){const l=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const h=u[f];let p=40+(n.sensitive?.25:0);if(h.type===0)f||(s+="/"),s+=h.value.replace(lp,"\\$&"),p+=40;else if(h.type===1){const{value:_,repeatable:m,optional:v,regexp:y}=h;o.push({name:_,repeatable:m,optional:v});const b=y||oc;if(b!==oc){p+=10;try{new RegExp(`(${b})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${_}" (${b}): `+I.message)}}let S=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(S=v&&u.length<2?`(?:/${S})`:"/"+S),v&&(S+="?"),s+=S,p+=20,v&&(p+=-8),m&&(p+=-20),b===".*"&&(p+=-50)}l.push(p)}r.push(l)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const i=new RegExp(s,n.sensitive?"":"i");function a(u){const l=u.match(i),f={};if(!l)return null;for(let h=1;h<l.length;h++){const p=l[h]||"",_=o[h-1];f[_.name]=p&&_.repeatable?p.split("/"):p}return f}function c(u){let l="",f=!1;for(const h of t){(!f||!l.endsWith("/"))&&(l+="/"),f=!1;for(const p of h)if(p.type===0)l+=p.value;else if(p.type===1){const{value:_,repeatable:m,optional:v}=p,y=_ in u?u[_]:"";if(pt(y)&&!m)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const b=pt(y)?y.join("/"):y;if(!b)if(v)h.length<2&&(l.endsWith("/")?l=l.slice(0,-1):f=!0);else throw new Error(`Missing required param "${_}"`);l+=b}}return l||"/"}return{re:i,score:r,keys:o,parse:a,stringify:c}}function fp(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function hp(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const o=fp(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(ic(r))return 1;if(ic(s))return-1}return s.length-r.length}function ic(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const dp={type:0,value:""},pp=/[a-zA-Z0-9_]/;function gp(t){if(!t)return[[]];if(t==="/")return[[dp]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const s=[];let o;function i(){o&&s.push(o),o=[]}let a=0,c,u="",l="";function f(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(u&&f(),i()):c===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:c==="("?n=2:pp.test(c)?h():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:n=3:l+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),i(),s}function mp(t,e,n){const r=up(gp(t.path),n),s=ce(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function _p(t,e){const n=[],r=new Map;e=lc({strict:!1,end:!0,sensitive:!1},e);function s(l){return r.get(l)}function o(l,f,h){const p=!h,_=yp(l);_.aliasOf=h&&h.record;const m=lc(e,l),v=[_];if("alias"in l){const S=typeof l.alias=="string"?[l.alias]:l.alias;for(const I of S)v.push(ce({},_,{components:h?h.record.components:_.components,path:I,aliasOf:h?h.record:_}))}let y,b;for(const S of v){const{path:I}=S;if(f&&I[0]!=="/"){const O=f.record.path,R=O[O.length-1]==="/"?"":"/";S.path=f.record.path+(I&&R+I)}if(y=mp(S,f,m),h?h.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),p&&l.name&&!cc(y)&&i(l.name)),_.children){const O=_.children;for(let R=0;R<O.length;R++)o(O[R],y,h&&h.children[R])}h=h||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&c(y)}return b?()=>{i(b)}:mr}function i(l){if(Ql(l)){const f=r.get(l);f&&(r.delete(l),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(l);f>-1&&(n.splice(f,1),l.record.name&&r.delete(l.record.name),l.children.forEach(i),l.alias.forEach(i))}}function a(){return n}function c(l){let f=0;for(;f<n.length&&hp(l,n[f])>=0&&(l.record.path!==n[f].record.path||!eu(l,n[f]));)f++;n.splice(f,0,l),l.record.name&&!cc(l)&&r.set(l.record.name,l)}function u(l,f){let h,p={},_,m;if("name"in l&&l.name){if(h=r.get(l.name),!h)throw Vn(1,{location:l});m=h.record.name,p=ce(ac(f.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),l.params&&ac(l.params,h.keys.map(b=>b.name))),_=h.stringify(p)}else if(l.path!=null)_=l.path,h=n.find(b=>b.re.test(_)),h&&(p=h.parse(_),m=h.record.name);else{if(h=f.name?r.get(f.name):n.find(b=>b.re.test(f.path)),!h)throw Vn(1,{location:l,currentLocation:f});m=h.record.name,p=ce({},f.params,l.params),_=h.stringify(p)}const v=[];let y=h;for(;y;)v.unshift(y.record),y=y.parent;return{name:m,path:_,params:p,matched:v,meta:vp(v)}}return t.forEach(l=>o(l)),{addRoute:o,resolve:u,removeRoute:i,getRoutes:a,getRecordMatcher:s}}function ac(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function yp(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:bp(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function bp(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function cc(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function vp(t){return t.reduce((e,n)=>ce(e,n.meta),{})}function lc(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function eu(t,e){return e.children.some(n=>n===t||eu(t,n))}function wp(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(Vl," "),i=o.indexOf("="),a=kr(i<0?o:o.slice(0,i)),c=i<0?null:kr(o.slice(i+1));if(a in e){let u=e[a];pt(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function uc(t){let e="";for(let n in t){const r=t[n];if(n=Ld(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(pt(r)?r.map(o=>o&&Vo(o)):[r&&Vo(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Sp(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=pt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Cp=Symbol(""),fc=Symbol(""),Vi=Symbol(""),zi=Symbol(""),Go=Symbol("");function rr(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function zt(t,e,n,r,s,o=i=>i()){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const u=h=>{h===!1?c(Vn(4,{from:n,to:e})):h instanceof Error?c(h):ap(h)?c(Vn(2,{from:e,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),a())},l=o(()=>t.call(r&&r.instances[s],e,n,u));let f=Promise.resolve(l);t.length<3&&(f=f.then(u)),f.catch(h=>c(h))})}function wo(t,e,n,r,s=o=>o()){const o=[];for(const i of t)for(const a in i.components){let c=i.components[a];if(!(e!=="beforeRouteEnter"&&!i.instances[a]))if(Ep(c)){const l=(c.__vccOpts||c)[e];l&&o.push(zt(l,n,r,i,a,s))}else{let u=c();o.push(()=>u.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${i.path}"`));const f=Td(l)?l.default:l;i.components[a]=f;const p=(f.__vccOpts||f)[e];return p&&zt(p,n,r,i,a,s)()}))}}return o}function Ep(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function hc(t){const e=Ct(Vi),n=Ct(zi),r=lt(()=>e.resolve(ot(t.to))),s=lt(()=>{const{matched:c}=r.value,{length:u}=c,l=c[u-1],f=n.matched;if(!l||!f.length)return-1;const h=f.findIndex(Wn.bind(null,l));if(h>-1)return h;const p=dc(c[u-2]);return u>1&&dc(l)===p&&f[f.length-1].path!==p?f.findIndex(Wn.bind(null,c[u-2])):h}),o=lt(()=>s.value>-1&&Pp(n.params,r.value.params)),i=lt(()=>s.value>-1&&s.value===n.matched.length-1&&Xl(n.params,r.value.params));function a(c={}){return Rp(c)?e[ot(t.replace)?"replace":"push"](ot(t.to)).catch(mr):Promise.resolve()}return{route:r,href:lt(()=>r.value.href),isActive:o,isExactActive:i,navigate:a}}const xp=Rl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:hc,setup(t,{slots:e}){const n=Yn(hc(t)),{options:r}=Ct(Vi),s=lt(()=>({[pc(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[pc(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:ql("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),ps=xp;function Rp(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Pp(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!pt(s)||s.length!==r.length||r.some((o,i)=>o!==s[i]))return!1}return!0}function dc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const pc=(t,e,n)=>t??e??n,kp=Rl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Ct(Go),s=lt(()=>t.route||r.value),o=Ct(fc,0),i=lt(()=>{let u=ot(o);const{matched:l}=s.value;let f;for(;(f=l[u])&&!f.components;)u++;return u}),a=lt(()=>s.value.matched[i.value]);fs(fc,lt(()=>i.value+1)),fs(Cp,a),fs(Go,s);const c=Kf();return hr(()=>[c.value,a.value,t.name],([u,l,f],[h,p,_])=>{l&&(l.instances[f]=u,p&&p!==l&&u&&u===h&&(l.leaveGuards.size||(l.leaveGuards=p.leaveGuards),l.updateGuards.size||(l.updateGuards=p.updateGuards))),u&&l&&(!p||!Wn(l,p)||!h)&&(l.enterCallbacks[f]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=s.value,l=t.name,f=a.value,h=f&&f.components[l];if(!h)return gc(n.default,{Component:h,route:u});const p=f.props[l],_=p?p===!0?u.params:typeof p=="function"?p(u):p:null,v=ql(h,ce({},_,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[l]=null)},ref:c}));return gc(n.default,{Component:v,route:u})||v}}});function gc(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Gi=kp;function Ip(t){const e=_p(t.routes,t),n=t.parseQuery||wp,r=t.stringifyQuery||uc,s=t.history,o=rr(),i=rr(),a=rr(),c=Hf(Ft);let u=Ft;On&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=bo.bind(null,P=>""+P),f=bo.bind(null,Hd),h=bo.bind(null,kr);function p(P,F){let j,H;return Ql(P)?(j=e.getRecordMatcher(P),H=F):H=P,e.addRoute(H,j)}function _(P){const F=e.getRecordMatcher(P);F&&e.removeRoute(F)}function m(){return e.getRoutes().map(P=>P.record)}function v(P){return!!e.getRecordMatcher(P)}function y(P,F){if(F=ce({},F||c.value),typeof P=="string"){const g=vo(n,P,F.path),w=e.resolve({path:g.path},F),k=s.createHref(g.fullPath);return ce(g,w,{params:h(w.params),hash:kr(g.hash),redirectedFrom:void 0,href:k})}let j;if(P.path!=null)j=ce({},P,{path:vo(n,P.path,F.path).path});else{const g=ce({},P.params);for(const w in g)g[w]==null&&delete g[w];j=ce({},P,{params:f(g)}),F.params=f(F.params)}const H=e.resolve(j,F),ae=P.hash||"";H.params=l(h(H.params));const _e=Vd(r,ce({},P,{hash:Fd(ae),path:H.path})),d=s.createHref(_e);return ce({fullPath:_e,hash:ae,query:r===uc?Sp(P.query):P.query||{}},H,{redirectedFrom:void 0,href:d})}function b(P){return typeof P=="string"?vo(n,P,c.value.path):ce({},P)}function S(P,F){if(u!==P)return Vn(8,{from:F,to:P})}function I(P){return T(P)}function O(P){return I(ce(b(P),{replace:!0}))}function R(P){const F=P.matched[P.matched.length-1];if(F&&F.redirect){const{redirect:j}=F;let H=typeof j=="function"?j(P):j;return typeof H=="string"&&(H=H.includes("?")||H.includes("#")?H=b(H):{path:H},H.params={}),ce({query:P.query,hash:P.hash,params:H.path!=null?{}:P.params},H)}}function T(P,F){const j=u=y(P),H=c.value,ae=P.state,_e=P.force,d=P.replace===!0,g=R(j);if(g)return T(ce(b(g),{state:typeof g=="object"?ce({},ae,g.state):ae,force:_e,replace:d}),F||j);const w=j;w.redirectedFrom=F;let k;return!_e&&zd(r,H,j)&&(k=Vn(16,{to:w,from:H}),gt(H,H,!0,!1)),(k?Promise.resolve(k):se(w,H)).catch(E=>Pt(E)?Pt(E,2)?E:tt(E):te(E,w,H)).then(E=>{if(E){if(Pt(E,2))return T(ce({replace:d},b(E.to),{state:typeof E.to=="object"?ce({},ae,E.to.state):ae,force:_e}),F||w)}else E=we(w,H,!0,d,ae);return ee(w,H,E),E})}function z(P,F){const j=S(P,F);return j?Promise.reject(j):Promise.resolve()}function N(P){const F=kn.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(P):P()}function se(P,F){let j;const[H,ae,_e]=Tp(P,F);j=wo(H.reverse(),"beforeRouteLeave",P,F);for(const g of H)g.leaveGuards.forEach(w=>{j.push(zt(w,P,F))});const d=z.bind(null,P,F);return j.push(d),Me(j).then(()=>{j=[];for(const g of o.list())j.push(zt(g,P,F));return j.push(d),Me(j)}).then(()=>{j=wo(ae,"beforeRouteUpdate",P,F);for(const g of ae)g.updateGuards.forEach(w=>{j.push(zt(w,P,F))});return j.push(d),Me(j)}).then(()=>{j=[];for(const g of _e)if(g.beforeEnter)if(pt(g.beforeEnter))for(const w of g.beforeEnter)j.push(zt(w,P,F));else j.push(zt(g.beforeEnter,P,F));return j.push(d),Me(j)}).then(()=>(P.matched.forEach(g=>g.enterCallbacks={}),j=wo(_e,"beforeRouteEnter",P,F,N),j.push(d),Me(j))).then(()=>{j=[];for(const g of i.list())j.push(zt(g,P,F));return j.push(d),Me(j)}).catch(g=>Pt(g,8)?g:Promise.reject(g))}function ee(P,F,j){a.list().forEach(H=>N(()=>H(P,F,j)))}function we(P,F,j,H,ae){const _e=S(P,F);if(_e)return _e;const d=F===Ft,g=On?history.state:{};j&&(H||d?s.replace(P.fullPath,ce({scroll:d&&g&&g.scroll},ae)):s.push(P.fullPath,ae)),c.value=P,gt(P,F,j,d),tt()}let fe;function le(){fe||(fe=s.listen((P,F,j)=>{if(!zr.listening)return;const H=y(P),ae=R(H);if(ae){T(ce(ae,{replace:!0}),H).catch(mr);return}u=H;const _e=c.value;On&&tp(nc(_e.fullPath,j.delta),to()),se(H,_e).catch(d=>Pt(d,12)?d:Pt(d,2)?(T(d.to,H).then(g=>{Pt(g,20)&&!j.delta&&j.type===Ir.pop&&s.go(-1,!1)}).catch(mr),Promise.reject()):(j.delta&&s.go(-j.delta,!1),te(d,H,_e))).then(d=>{d=d||we(H,_e,!1),d&&(j.delta&&!Pt(d,8)?s.go(-j.delta,!1):j.type===Ir.pop&&Pt(d,20)&&s.go(-1,!1)),ee(H,_e,d)}).catch(mr)}))}let Xe=rr(),pe=rr(),Y;function te(P,F,j){tt(P);const H=pe.list();return H.length?H.forEach(ae=>ae(P,F,j)):console.error(P),Promise.reject(P)}function Fe(){return Y&&c.value!==Ft?Promise.resolve():new Promise((P,F)=>{Xe.add([P,F])})}function tt(P){return Y||(Y=!P,le(),Xe.list().forEach(([F,j])=>P?j(P):F()),Xe.reset()),P}function gt(P,F,j,H){const{scrollBehavior:ae}=t;if(!On||!ae)return Promise.resolve();const _e=!j&&np(nc(P.fullPath,0))||(H||!j)&&history.state&&history.state.scroll||null;return Fi().then(()=>ae(P,F,_e)).then(d=>d&&ep(d)).catch(d=>te(d,P,F))}const qe=P=>s.go(P);let Pn;const kn=new Set,zr={currentRoute:c,listening:!0,addRoute:p,removeRoute:_,hasRoute:v,getRoutes:m,resolve:y,options:t,push:I,replace:O,go:qe,back:()=>qe(-1),forward:()=>qe(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:pe.add,isReady:Fe,install(P){const F=this;P.component("RouterLink",ps),P.component("RouterView",Gi),P.config.globalProperties.$router=F,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>ot(c)}),On&&!Pn&&c.value===Ft&&(Pn=!0,I(s.location).catch(ae=>{}));const j={};for(const ae in Ft)Object.defineProperty(j,ae,{get:()=>c.value[ae],enumerable:!0});P.provide(Vi,F),P.provide(zi,ll(j)),P.provide(Go,c);const H=P.unmount;kn.add(P),P.unmount=function(){kn.delete(P),kn.size<1&&(u=Ft,fe&&fe(),fe=null,c.value=Ft,Pn=!1,Y=!1),H()}}};function Me(P){return P.reduce((F,j)=>F.then(()=>N(j)),Promise.resolve())}return zr}function Tp(t,e){const n=[],r=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const a=e.matched[i];a&&(t.matched.find(u=>Wn(u,a))?r.push(a):n.push(a));const c=t.matched[i];c&&(e.matched.find(u=>Wn(u,c))||s.push(c))}return[n,r,s]}function K_(){return Ct(zi)}const Ap={__name:"App",setup(t){return(e,n)=>($n(),Fl(ot(Gi)))}},Op="modulepreload",Dp=function(t){return"/"+t},mc={},sr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link");s=Promise.all(n.map(i=>{if(i=Dp(i),i in mc)return;mc[i]=!0;const a=i.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!r)for(let f=o.length-1;f>=0;f--){const h=o[f];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${c}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":Op,a||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),a)return new Promise((f,h)=>{l.addEventListener("load",f),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})}))}return s.then(()=>e()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};function tu(t,e){return function(){return t.apply(e,arguments)}}const{toString:Mp}=Object.prototype,{getPrototypeOf:Ji}=Object,no=(t=>e=>{const n=Mp.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xt=t=>(t=t.toLowerCase(),e=>no(e)===t),ro=t=>e=>typeof e===t,{isArray:Qn}=Array,Tr=ro("undefined");function Np(t){return t!==null&&!Tr(t)&&t.constructor!==null&&!Tr(t.constructor)&&it(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nu=xt("ArrayBuffer");function Up(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nu(t.buffer),e}const jp=ro("string"),it=ro("function"),ru=ro("number"),so=t=>t!==null&&typeof t=="object",$p=t=>t===!0||t===!1,gs=t=>{if(no(t)!=="object")return!1;const e=Ji(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Bp=xt("Date"),Fp=xt("File"),Lp=xt("Blob"),Kp=xt("FileList"),Hp=t=>so(t)&&it(t.pipe),qp=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||it(t.append)&&((e=no(t))==="formdata"||e==="object"&&it(t.toString)&&t.toString()==="[object FormData]"))},Wp=xt("URLSearchParams"),Vp=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kr(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Qn(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(r=0;r<i;r++)a=o[r],e.call(null,t[a],a,t)}}function su(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const ou=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iu=t=>!Tr(t)&&t!==ou;function Jo(){const{caseless:t}=iu(this)&&this||{},e={},n=(r,s)=>{const o=t&&su(e,s)||s;gs(e[o])&&gs(r)?e[o]=Jo(e[o],r):gs(r)?e[o]=Jo({},r):Qn(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Kr(arguments[r],n);return e}const zp=(t,e,n,{allOwnKeys:r}={})=>(Kr(e,(s,o)=>{n&&it(s)?t[o]=tu(s,n):t[o]=s},{allOwnKeys:r}),t),Gp=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Jp=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Xp=(t,e,n,r)=>{let s,o,i;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!r||r(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&Ji(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Yp=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Qp=t=>{if(!t)return null;if(Qn(t))return t;let e=t.length;if(!ru(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Zp=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ji(Uint8Array)),eg=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},tg=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},ng=xt("HTMLFormElement"),rg=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),_c=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),sg=xt("RegExp"),au=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Kr(n,(s,o)=>{let i;(i=e(s,o,t))!==!1&&(r[o]=i||s)}),Object.defineProperties(t,r)},og=t=>{au(t,(e,n)=>{if(it(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(it(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ig=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Qn(t)?r(t):r(String(t).split(e)),n},ag=()=>{},cg=(t,e)=>(t=+t,Number.isFinite(t)?t:e),So="abcdefghijklmnopqrstuvwxyz",yc="0123456789",cu={DIGIT:yc,ALPHA:So,ALPHA_DIGIT:So+So.toUpperCase()+yc},lg=(t=16,e=cu.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function ug(t){return!!(t&&it(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const fg=t=>{const e=new Array(10),n=(r,s)=>{if(so(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=Qn(r)?[]:{};return Kr(r,(i,a)=>{const c=n(i,s+1);!Tr(c)&&(o[a]=c)}),e[s]=void 0,o}}return r};return n(t,0)},hg=xt("AsyncFunction"),dg=t=>t&&(so(t)||it(t))&&it(t.then)&&it(t.catch),x={isArray:Qn,isArrayBuffer:nu,isBuffer:Np,isFormData:qp,isArrayBufferView:Up,isString:jp,isNumber:ru,isBoolean:$p,isObject:so,isPlainObject:gs,isUndefined:Tr,isDate:Bp,isFile:Fp,isBlob:Lp,isRegExp:sg,isFunction:it,isStream:Hp,isURLSearchParams:Wp,isTypedArray:Zp,isFileList:Kp,forEach:Kr,merge:Jo,extend:zp,trim:Vp,stripBOM:Gp,inherits:Jp,toFlatObject:Xp,kindOf:no,kindOfTest:xt,endsWith:Yp,toArray:Qp,forEachEntry:eg,matchAll:tg,isHTMLForm:ng,hasOwnProperty:_c,hasOwnProp:_c,reduceDescriptors:au,freezeMethods:og,toObjectSet:ig,toCamelCase:rg,noop:ag,toFiniteNumber:cg,findKey:su,global:ou,isContextDefined:iu,ALPHABET:cu,generateString:lg,isSpecCompliantForm:ug,toJSONObject:fg,isAsyncFn:hg,isThenable:dg};function re(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}x.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const lu=re.prototype,uu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uu[t]={value:t}});Object.defineProperties(re,uu);Object.defineProperty(lu,"isAxiosError",{value:!0});re.from=(t,e,n,r,s,o)=>{const i=Object.create(lu);return x.toFlatObject(t,i,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),re.call(i,t.message,e,n,r,s),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const pg=null;function Xo(t){return x.isPlainObject(t)||x.isArray(t)}function fu(t){return x.endsWith(t,"[]")?t.slice(0,-2):t}function bc(t,e,n){return t?t.concat(e).map(function(s,o){return s=fu(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function gg(t){return x.isArray(t)&&!t.some(Xo)}const mg=x.toFlatObject(x,{},null,function(e){return/^is[A-Z]/.test(e)});function oo(t,e,n){if(!x.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=x.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!x.isUndefined(v[m])});const r=n.metaTokens,s=n.visitor||l,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(e);if(!x.isFunction(s))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(x.isDate(_))return _.toISOString();if(!c&&x.isBlob(_))throw new re("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(_)||x.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function l(_,m,v){let y=_;if(_&&!v&&typeof _=="object"){if(x.endsWith(m,"{}"))m=r?m:m.slice(0,-2),_=JSON.stringify(_);else if(x.isArray(_)&&gg(_)||(x.isFileList(_)||x.endsWith(m,"[]"))&&(y=x.toArray(_)))return m=fu(m),y.forEach(function(S,I){!(x.isUndefined(S)||S===null)&&e.append(i===!0?bc([m],I,o):i===null?m:m+"[]",u(S))}),!1}return Xo(_)?!0:(e.append(bc(v,m,o),u(_)),!1)}const f=[],h=Object.assign(mg,{defaultVisitor:l,convertValue:u,isVisitable:Xo});function p(_,m){if(!x.isUndefined(_)){if(f.indexOf(_)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(_),x.forEach(_,function(y,b){(!(x.isUndefined(y)||y===null)&&s.call(e,y,x.isString(b)?b.trim():b,m,h))===!0&&p(y,m?m.concat(b):[b])}),f.pop()}}if(!x.isObject(t))throw new TypeError("data must be an object");return p(t),e}function vc(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Xi(t,e){this._pairs=[],t&&oo(t,this,e)}const hu=Xi.prototype;hu.append=function(e,n){this._pairs.push([e,n])};hu.toString=function(e){const n=e?function(r){return e.call(this,r,vc)}:vc;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function _g(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function du(t,e,n){if(!e)return t;const r=n&&n.encode||_g,s=n&&n.serialize;let o;if(s?o=s(e,n):o=x.isURLSearchParams(e)?e.toString():new Xi(e,n).toString(r),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class wc{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){x.forEach(this.handlers,function(r){r!==null&&e(r)})}}const pu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yg=typeof URLSearchParams<"u"?URLSearchParams:Xi,bg=typeof FormData<"u"?FormData:null,vg=typeof Blob<"u"?Blob:null,wg={isBrowser:!0,classes:{URLSearchParams:yg,FormData:bg,Blob:vg},protocols:["http","https","file","blob","url","data"]},gu=typeof window<"u"&&typeof document<"u",Sg=(t=>gu&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Cg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Eg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gu,hasStandardBrowserEnv:Sg,hasStandardBrowserWebWorkerEnv:Cg},Symbol.toStringTag,{value:"Module"})),St={...Eg,...wg};function xg(t,e){return oo(t,new St.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return St.isNode&&x.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Rg(t){return x.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Pg(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function mu(t){function e(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&x.isArray(s)?s.length:i,c?(x.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!x.isObject(s[i]))&&(s[i]=[]),e(n,r,s[i],o)&&x.isArray(s[i])&&(s[i]=Pg(s[i])),!a)}if(x.isFormData(t)&&x.isFunction(t.entries)){const n={};return x.forEachEntry(t,(r,s)=>{e(Rg(r),s,n,0)}),n}return null}function kg(t,e,n){if(x.isString(t))try{return(e||JSON.parse)(t),x.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Yi={transitional:pu,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=x.isObject(e);if(o&&x.isHTMLForm(e)&&(e=new FormData(e)),x.isFormData(e))return s?JSON.stringify(mu(e)):e;if(x.isArrayBuffer(e)||x.isBuffer(e)||x.isStream(e)||x.isFile(e)||x.isBlob(e))return e;if(x.isArrayBufferView(e))return e.buffer;if(x.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xg(e,this.formSerializer).toString();if((a=x.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return oo(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),kg(e)):e}],transformResponse:[function(e){const n=this.transitional||Yi.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&x.isString(e)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?re.from(a,re.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:St.classes.FormData,Blob:St.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],t=>{Yi.headers[t]={}});const Qi=Yi,Ig=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tg=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||e[n]&&Ig[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Sc=Symbol("internals");function or(t){return t&&String(t).trim().toLowerCase()}function ms(t){return t===!1||t==null?t:x.isArray(t)?t.map(ms):String(t)}function Ag(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Og=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Co(t,e,n,r,s){if(x.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!x.isString(e)){if(x.isString(r))return e.indexOf(r)!==-1;if(x.isRegExp(r))return r.test(e)}}function Dg(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Mg(t,e){const n=x.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,i){return this[r].call(this,e,s,o,i)},configurable:!0})})}class io{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(a,c,u){const l=or(c);if(!l)throw new Error("header name must be a non-empty string");const f=x.findKey(s,l);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=ms(a))}const i=(a,c)=>x.forEach(a,(u,l)=>o(u,l,c));return x.isPlainObject(e)||e instanceof this.constructor?i(e,n):x.isString(e)&&(e=e.trim())&&!Og(e)?i(Tg(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=or(e),e){const r=x.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return Ag(s);if(x.isFunction(n))return n.call(this,s,r);if(x.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=or(e),e){const r=x.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Co(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(i){if(i=or(i),i){const a=x.findKey(r,i);a&&(!n||Co(r,r[a],a,n))&&(delete r[a],s=!0)}}return x.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||Co(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return x.forEach(this,(s,o)=>{const i=x.findKey(r,o);if(i){n[i]=ms(s),delete n[o];return}const a=e?Dg(o):String(o).trim();a!==o&&delete n[o],n[a]=ms(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return x.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&x.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Sc]=this[Sc]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=or(i);r[a]||(Mg(s,i),r[a]=!0)}return x.isArray(e)?e.forEach(o):o(e),this}}io.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(io.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});x.freezeMethods(io);const Mt=io;function Eo(t,e){const n=this||Qi,r=e||n,s=Mt.from(r.headers);let o=r.data;return x.forEach(t,function(a){o=a.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function _u(t){return!!(t&&t.__CANCEL__)}function Hr(t,e,n){re.call(this,t??"canceled",re.ERR_CANCELED,e,n),this.name="CanceledError"}x.inherits(Hr,re,{__CANCEL__:!0});function Ng(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new re("Request failed with status code "+n.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ug=St.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const i=[t+"="+encodeURIComponent(e)];x.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),x.isString(r)&&i.push("path="+r),x.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jg(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $g(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function yu(t,e){return t&&!jg(e)?$g(t,e):e}const Bg=St.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(o){let i=o;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(i){const a=x.isString(i)?s(i):i;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function Fg(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Lg(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=r[o];i||(i=u),n[s]=c,r[s]=u;let f=o,h=0;for(;f!==s;)h+=n[f++],f=f%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),u-i<e)return;const p=l&&u-l;return p?Math.round(h*1e3/p):void 0}}function Cc(t,e){let n=0;const r=Lg(50,250);return s=>{const o=s.loaded,i=s.lengthComputable?s.total:void 0,a=o-n,c=r(a),u=o<=i;n=o;const l={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&u?(i-o)/c:void 0,event:s};l[e?"download":"upload"]=!0,t(l)}}const Kg=typeof XMLHttpRequest<"u",Hg=Kg&&function(t){return new Promise(function(n,r){let s=t.data;const o=Mt.from(t.headers).normalize();let{responseType:i,withXSRFToken:a}=t,c;function u(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let l;if(x.isFormData(s)){if(St.hasStandardBrowserEnv||St.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((l=o.getContentType())!==!1){const[m,...v]=l?l.split(";").map(y=>y.trim()).filter(Boolean):[];o.setContentType([m||"multipart/form-data",...v].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(m+":"+v))}const h=yu(t.baseURL,t.url);f.open(t.method.toUpperCase(),du(h,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function p(){if(!f)return;const m=Mt.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),y={data:!i||i==="text"||i==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:m,config:t,request:f};Ng(function(S){n(S),u()},function(S){r(S),u()},y),f=null}if("onloadend"in f?f.onloadend=p:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(p)},f.onabort=function(){f&&(r(new re("Request aborted",re.ECONNABORTED,t,f)),f=null)},f.onerror=function(){r(new re("Network Error",re.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||pu;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),r(new re(v,y.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,t,f)),f=null},St.hasStandardBrowserEnv&&(a&&x.isFunction(a)&&(a=a(t)),a||a!==!1&&Bg(h))){const m=t.xsrfHeaderName&&t.xsrfCookieName&&Ug.read(t.xsrfCookieName);m&&o.set(t.xsrfHeaderName,m)}s===void 0&&o.setContentType(null),"setRequestHeader"in f&&x.forEach(o.toJSON(),function(v,y){f.setRequestHeader(y,v)}),x.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),i&&i!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",Cc(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Cc(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=m=>{f&&(r(!m||m.type?new Hr(null,t,f):m),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const _=Fg(h);if(_&&St.protocols.indexOf(_)===-1){r(new re("Unsupported protocol "+_+":",re.ERR_BAD_REQUEST,t));return}f.send(s||null)})},Yo={http:pg,xhr:Hg};x.forEach(Yo,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ec=t=>`- ${t}`,qg=t=>x.isFunction(t)||t===null||t===!1,bu={getAdapter:t=>{t=x.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let o=0;o<e;o++){n=t[o];let i;if(r=n,!qg(n)&&(r=Yo[(i=String(n)).toLowerCase()],r===void 0))throw new re(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(Ec).join(`
`):" "+Ec(o[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Yo};function xo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hr(null,t)}function xc(t){return xo(t),t.headers=Mt.from(t.headers),t.data=Eo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),bu.getAdapter(t.adapter||Qi.adapter)(t).then(function(r){return xo(t),r.data=Eo.call(t,t.transformResponse,r),r.headers=Mt.from(r.headers),r},function(r){return _u(r)||(xo(t),r&&r.response&&(r.response.data=Eo.call(t,t.transformResponse,r.response),r.response.headers=Mt.from(r.response.headers))),Promise.reject(r)})}const Rc=t=>t instanceof Mt?t.toJSON():t;function zn(t,e){e=e||{};const n={};function r(u,l,f){return x.isPlainObject(u)&&x.isPlainObject(l)?x.merge.call({caseless:f},u,l):x.isPlainObject(l)?x.merge({},l):x.isArray(l)?l.slice():l}function s(u,l,f){if(x.isUndefined(l)){if(!x.isUndefined(u))return r(void 0,u,f)}else return r(u,l,f)}function o(u,l){if(!x.isUndefined(l))return r(void 0,l)}function i(u,l){if(x.isUndefined(l)){if(!x.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,f){if(f in e)return r(u,l);if(f in t)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,l)=>s(Rc(u),Rc(l),!0)};return x.forEach(Object.keys(Object.assign({},t,e)),function(l){const f=c[l]||s,h=f(t[l],e[l],l);x.isUndefined(h)&&f!==a||(n[l]=h)}),n}const vu="1.6.7",Zi={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zi[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Pc={};Zi.transitional=function(e,n,r){function s(o,i){return"[Axios v"+vu+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(e===!1)throw new re(s(i," has been removed"+(n?" in "+n:"")),re.ERR_DEPRECATED);return n&&!Pc[i]&&(Pc[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,a):!0}};function Wg(t,e,n){if(typeof t!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],i=e[o];if(i){const a=t[o],c=a===void 0||i(a,o,t);if(c!==!0)throw new re("option "+o+" must be "+c,re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new re("Unknown option "+o,re.ERR_BAD_OPTION)}}const Qo={assertOptions:Wg,validators:Zi},Lt=Qo.validators;class Os{constructor(e){this.defaults=e,this.interceptors={request:new wc,response:new wc}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=zn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Qo.assertOptions(r,{silentJSONParsing:Lt.transitional(Lt.boolean),forcedJSONParsing:Lt.transitional(Lt.boolean),clarifyTimeoutError:Lt.transitional(Lt.boolean)},!1),s!=null&&(x.isFunction(s)?n.paramsSerializer={serialize:s}:Qo.assertOptions(s,{encode:Lt.function,serialize:Lt.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&x.merge(o.common,o[n.method]);o&&x.forEach(["delete","get","head","post","put","patch","common"],_=>{delete o[_]}),n.headers=Mt.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let l,f=0,h;if(!c){const _=[xc.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,u),h=_.length,l=Promise.resolve(n);f<h;)l=l.then(_[f++],_[f++]);return l}h=a.length;let p=n;for(f=0;f<h;){const _=a[f++],m=a[f++];try{p=_(p)}catch(v){m.call(this,v);break}}try{l=xc.call(this,p)}catch(_){return Promise.reject(_)}for(f=0,h=u.length;f<h;)l=l.then(u[f++],u[f++]);return l}getUri(e){e=zn(this.defaults,e);const n=yu(e.baseURL,e.url);return du(n,e.params,e.paramsSerializer)}}x.forEach(["delete","get","head","options"],function(e){Os.prototype[e]=function(n,r){return this.request(zn(r||{},{method:e,url:n,data:(r||{}).data}))}});x.forEach(["post","put","patch"],function(e){function n(r){return function(o,i,a){return this.request(zn(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Os.prototype[e]=n(),Os.prototype[e+"Form"]=n(!0)});const _s=Os;class ea{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},e(function(o,i,a){r.reason||(r.reason=new Hr(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new ea(function(s){e=s}),cancel:e}}}const Vg=ea;function zg(t){return function(n){return t.apply(null,n)}}function Gg(t){return x.isObject(t)&&t.isAxiosError===!0}const Zo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zo).forEach(([t,e])=>{Zo[e]=t});const Jg=Zo;function wu(t){const e=new _s(t),n=tu(_s.prototype.request,e);return x.extend(n,_s.prototype,e,{allOwnKeys:!0}),x.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return wu(zn(t,s))},n}const Re=wu(Qi);Re.Axios=_s;Re.CanceledError=Hr;Re.CancelToken=Vg;Re.isCancel=_u;Re.VERSION=vu;Re.toFormData=oo;Re.AxiosError=re;Re.Cancel=Re.CanceledError;Re.all=function(e){return Promise.all(e)};Re.spread=zg;Re.isAxiosError=Gg;Re.mergeConfig=zn;Re.AxiosHeaders=Mt;Re.formToJSON=t=>mu(x.isHTMLForm(t)?new FormData(t):t);Re.getAdapter=bu.getAdapter;Re.HttpStatusCode=Jg;Re.default=Re;const Xg=Re,K=Yn({apiUrl:"http://192.168.1.36:5000",activeChat:null,contacts:[],messages:[],users:[],isConnected:null,loggedUser:null,readyActiveChat:!1,uploadPath:"/uploads/"}),Yg=JSON.parse(localStorage.getItem("store")||null),Oe=Yn(Yg||{accessToken:null,loggedUser:{id:null,name:null,imageUrl:null}}),Ve=Xg.create({baseURL:K.apiUrl,timeout:12e4});Ve.interceptors.request.use(function(t){return t.headers.Authorization="Bearer "+Oe.accessToken,t},function(t){return Promise.reject(t)});Ve.interceptors.response.use(t=>t,t=>(t.response?.status===401&&Xn.push({path:"/login"}),t));const an={GetContacts:t=>Ve.get("/contact/list").then(e=>e.data),GetContact:(t,e)=>Ve.get("/contact/getContact",{params:{userId:t,groupId:e}}).then(n=>n.data),DeleteContact:(t,e)=>Ve.get("/contact/deleteContact",{params:{userId:t,groupId:e}}).then(n=>n.data),GetMessages:(t,e,n)=>Ve.get("/contact/messages",{params:{userId:t,groupId:e,skip:n}}).then(r=>r.data),GetUsers:()=>Ve.get("/users/list").then(t=>t.data),GetUser:t=>Ve.get("/users/getProfile/"+t).then(e=>e.data),UpdateUser:t=>Ve.post("/users/update",t).then(e=>e.data),ReadAllMessages:t=>Ve.post("/contact/readMessages",t).then(e=>e.data),GetUserLastOnline:t=>Ve.get("/users/getUserLastOnline/"+t).then(e=>e.data),SaveGroup:t=>Ve.post("/contact/saveGroup",t).then(e=>e.data),GetGroup:t=>Ve.get("/contact/getGroup/"+t).then(e=>e.data)},Qg=Tt("h3",null,"Community",-1),Zg=Tt("img",{src:"https://i.pinimg.com/564x/de/6e/8d/de6e8d53598eecfb6a2d86919b267791.jpg",width:"15"},null,-1),em={__name:"Community",setup(t){return an.GetUsers().then(e=>K.users=e),(e,n)=>{const r=nh("RouterLink");return $n(),hs(rt,null,[Qg,($n(!0),hs(rt,null,Sh(ot(K).users,s=>($n(),hs("div",null,[Zg,Ae(r,{to:"/chat?userId="+s.id},{default:fr(()=>[qt(yf(s.name),1)]),_:2},1032,["to"])]))),256))],64)}}},me=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xe=Object.keys,Be=Array.isArray;function He(t,e){return typeof e!="object"||xe(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||me.Promise||(me.Promise=Promise);const Ar=Object.getPrototypeOf,tm={}.hasOwnProperty;function et(t,e){return tm.call(t,e)}function Gn(t,e){typeof e=="function"&&(e=e(Ar(t))),(typeof Reflect>"u"?xe:Reflect.ownKeys)(e).forEach(n=>{Nt(t,n,e[n])})}const Su=Object.defineProperty;function Nt(t,e,n,r){Su(t,e,He(n&&et(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Fn(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Nt(t.prototype,"constructor",t),{extend:Gn.bind(null,t.prototype)}}}}const nm=Object.getOwnPropertyDescriptor;function ta(t,e){let n;return nm(t,e)||(n=Ar(t))&&ta(n,e)}const rm=[].slice;function Ds(t,e,n){return rm.call(t,e,n)}function Cu(t,e){return e(t)}function cr(t){if(!t)throw new Error("Assertion Failed")}function Eu(t){me.setImmediate?setImmediate(t):setTimeout(t,0)}function xu(t,e){return t.reduce((n,r,s)=>{var o=e(r,s);return o&&(n[o[0]]=o[1]),n},{})}function Ut(t,e){if(typeof e=="string"&&et(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,s=e.length;r<s;++r){var o=Ut(t,e[r]);n.push(o)}return n}var i=e.indexOf(".");if(i!==-1){var a=t[e.substr(0,i)];return a===void 0?void 0:Ut(a,e.substr(i+1))}}function dt(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){cr(typeof n!="string"&&"length"in n);for(var r=0,s=e.length;r<s;++r)dt(t,e[r],n[r])}else{var o=e.indexOf(".");if(o!==-1){var i=e.substr(0,o),a=e.substr(o+1);if(a==="")n===void 0?Be(t)&&!isNaN(parseInt(i))?t.splice(i,1):delete t[i]:t[i]=n;else{var c=t[i];c&&et(t,i)||(c=t[i]={}),dt(c,a,n)}}else n===void 0?Be(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function Ru(t){var e={};for(var n in t)et(t,n)&&(e[n]=t[n]);return e}const sm=[].concat;function Pu(t){return sm.apply([],t)}const ku="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Pu([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>me[t]),om=ku.map(t=>me[t]);xu(ku,t=>[t,!0]);let Gt=null;function qr(t){Gt=typeof WeakMap<"u"&&new WeakMap;const e=ei(t);return Gt=null,e}function ei(t){if(!t||typeof t!="object")return t;let e=Gt&&Gt.get(t);if(e)return e;if(Be(t)){e=[],Gt&&Gt.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(ei(t[n]))}else if(om.indexOf(t.constructor)>=0)e=t;else{const o=Ar(t);for(var s in e=o===Object.prototype?{}:Object.create(o),Gt&&Gt.set(t,e),t)et(t,s)&&(e[s]=ei(t[s]))}return e}const{toString:im}={};function ti(t){return im.call(t).slice(8,-1)}const ni=typeof Symbol<"u"?Symbol.iterator:"@@iterator",am=typeof ni=="symbol"?function(t){var e;return t!=null&&(e=t[ni])&&e.apply(t)}:function(){return null},Dn={};function At(t){var e,n,r,s;if(arguments.length===1){if(Be(t))return t.slice();if(this===Dn&&typeof t=="string")return[t];if(s=am(t)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const na=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Rt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Iu(t,e){Rt=t,Tu=e}var Tu=()=>!0;const cm=!new Error("").stack;function Rn(){if(cm)try{throw Rn.arguments,new Error}catch(t){return t}return new Error}function ri(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(Tu).map(r=>`
`+r).join("")):""}var Au=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ra=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Au),lm={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ln(t,e){this._e=Rn(),this.name=t,this.message=e}function Ou(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,s)=>s.indexOf(n)===r).join(`
`)}function Ms(t,e,n,r){this._e=Rn(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=Ou(t,e)}function yr(t,e){this._e=Rn(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=Ou(t,e)}Fn(Ln).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ri(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Fn(Ms).from(Ln),Fn(yr).from(Ln);var sa=ra.reduce((t,e)=>(t[e]=e+"Error",t),{});const um=Ln;var G=ra.reduce((t,e)=>{var n=e+"Error";function r(s,o){this._e=Rn(),this.name=n,s?typeof s=="string"?(this.message=`${s}${o?`
 `+o:""}`,this.inner=o||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=lm[e]||n,this.inner=null)}return Fn(r).from(um),t[e]=r,t},{});G.Syntax=SyntaxError,G.Type=TypeError,G.Range=RangeError;var kc=Au.reduce((t,e)=>(t[e+"Error"]=G[e],t),{}),ys=ra.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=G[e]),t),{});function he(){}function Or(t){return t}function fm(t,e){return t==null||t===Or?e:function(n){return e(t(n))}}function vn(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function hm(t,e){return t===he?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?vn(r,this.onsuccess):r),s&&(this.onerror=this.onerror?vn(s,this.onerror):s),o!==void 0?o:n}}function dm(t,e){return t===he?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?vn(n,this.onsuccess):n),r&&(this.onerror=this.onerror?vn(r,this.onerror):r)}}function pm(t,e){return t===he?e:function(n){var r=t.apply(this,arguments);He(n,r);var s=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?vn(s,this.onsuccess):s),o&&(this.onerror=this.onerror?vn(o,this.onerror):o),r===void 0?i===void 0?void 0:i:He(r,i)}}function gm(t,e){return t===he?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function oa(t,e){return t===he?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,o=new Array(s);s--;)o[s]=arguments[s];return n.then(function(){return e.apply(r,o)})}return e.apply(this,arguments)}}ys.ModifyError=Ms,ys.DexieError=Ln,ys.BulkError=yr;var Dr={};const Du=100,[si,Ns,oi]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,Ar(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Ar(e),t]})(),Mu=Ns&&Ns.then,bs=si&&si.constructor,ia=!!oi;var ii=!1,mm=oi?()=>{oi.then(es)}:me.setImmediate?setImmediate.bind(null,es):me.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{es(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(es,0)},br=function(t,e){lr.push([t,e]),Us&&(mm(),Us=!1)},ai=!0,Us=!0,pn=[],vs=[],ci=null,li=Or,Kn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ac,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{Ac(t[0],t[1])}catch{}})}},W=Kn,lr=[],gn=0,ws=[];function B(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=he,this._lib=!1;var e=this._PSD=W;if(Rt&&(this._stackHolder=Rn(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==Dr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&fi(this,this._value))}this._state=null,this._value=null,++e.ref,Uu(this,t)}const ui={get:function(){var t=W,e=js;function n(r,s){var o=!t.global&&(t!==W||e!==js);const i=o&&!jt();var a=new B((c,u)=>{aa(this,new Nu($s(r,t,o,i),$s(s,t,o,i),c,u,t))});return Rt&&Bu(a,this),a}return n.prototype=Dr,n},set:function(t){Nt(this,"then",t&&t.prototype===Dr?ui:{get:function(){return t},set:ui.set})}};function Nu(t,e,n,r,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=s}function Uu(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Wr();n&&typeof n.then=="function"?Uu(t,(s,o)=>{n instanceof B?n._then(s,o):n.then(s,o)}):(t._state=!0,t._value=n,ju(t)),r&&Vr()}},fi.bind(null,t))}catch(n){fi(t,n)}}function fi(t,e){if(vs.push(e),t._state===null){var n=t._lib&&Wr();e=li(e),t._state=!1,t._value=e,Rt&&e!==null&&typeof e=="object"&&!e._promise&&function(r,s,o){try{r.apply(null,o)}catch(i){s&&s(i)}}(()=>{var r=ta(e,"stack");e._promise=t,Nt(e,"stack",{get:()=>ii?r&&(r.get?r.get.apply(e):r.value):t.stack})}),function(r){pn.some(s=>s._value===r._value)||pn.push(r)}(t),ju(t),n&&Vr()}}function ju(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)aa(t,e[n]);var s=t._PSD;--s.ref||s.finalize(),gn===0&&(++gn,br(()=>{--gn==0&&ca()},[]))}function aa(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++gn,br(_m,[n,t,e])}else t._listeners.push(e)}function _m(t,e,n){try{ci=e;var r,s=e._value;e._state?r=t(s):(vs.length&&(vs=[]),r=t(s),vs.indexOf(s)===-1&&function(o){for(var i=pn.length;i;)if(pn[--i]._value===o._value)return void pn.splice(i,1)}(e)),n.resolve(r)}catch(o){n.reject(o)}finally{ci=null,--gn==0&&ca(),--n.psd.ref||n.psd.finalize()}}function $u(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var s,o,i=t._value;i!=null?(s=i.name||"Error",o=i.message||i,r=ri(i,0)):(s=i,o=""),e.push(s+(o?": "+o:"")+r)}return Rt&&((r=ri(t._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),t._prev&&$u(t._prev,e,n)),e}function Bu(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function es(){Wr()&&Vr()}function Wr(){var t=ai;return ai=!1,Us=!1,t}function Vr(){var t,e,n;do for(;lr.length>0;)for(t=lr,lr=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(lr.length>0);ai=!0,Us=!0}function ca(){var t=pn;pn=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=ws.slice(0),n=e.length;n;)e[--n]()}function ts(t){return new B(Dr,!1,t)}function ve(t,e){var n=W;return function(){var r=Wr(),s=W;try{return tn(n,!0),t.apply(this,arguments)}catch(o){e&&e(o)}finally{tn(s,!1),r&&Vr()}}}Gn(B.prototype,{then:ui,_then:function(t,e){aa(this,new Nu(null,null,t,e,W))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):ts(r)):this.then(null,r=>r&&r.name===e?n(r):ts(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),ts(e)))},stack:{get:function(){if(this._stack)return this._stack;try{ii=!0;var t=$u(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{ii=!1}}},timeout:function(t,e){return t<1/0?new B((n,r)=>{var s=setTimeout(()=>r(new G.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Nt(B.prototype,Symbol.toStringTag,"Dexie.Promise"),Kn.env=Fu(),Gn(B,{all:function(){var t=At.apply(null,arguments).map(ns);return new B(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((s,o)=>B.resolve(s).then(i=>{t[o]=i,--r||e(t)},n))})},resolve:t=>{if(t instanceof B)return t;if(t&&typeof t.then=="function")return new B((n,r)=>{t.then(n,r)});var e=new B(Dr,!0,t);return Bu(e,ci),e},reject:ts,race:function(){var t=At.apply(null,arguments).map(ns);return new B((e,n)=>{t.map(r=>B.resolve(r).then(e,n))})},PSD:{get:()=>W,set:t=>W=t},totalEchoes:{get:()=>js},newPSD:en,usePSD:er,scheduler:{get:()=>br,set:t=>{br=t}},rejectionMapper:{get:()=>li,set:t=>{li=t}},follow:(t,e)=>new B((n,r)=>en((s,o)=>{var i=W;i.unhandleds=[],i.onunhandled=o,i.finalize=vn(function(){(function(a){function c(){a(),ws.splice(ws.indexOf(c),1)}ws.push(c),++gn,br(()=>{--gn==0&&ca()},[])})(()=>{this.unhandleds.length===0?s():o(this.unhandleds[0])})},i.finalize),t()},e,n,r))}),bs&&(bs.allSettled&&Nt(B,"allSettled",function(){const t=At.apply(null,arguments).map(ns);return new B(e=>{t.length===0&&e([]);let n=t.length;const r=new Array(n);t.forEach((s,o)=>B.resolve(s).then(i=>r[o]={status:"fulfilled",value:i},i=>r[o]={status:"rejected",reason:i}).then(()=>--n||e(r)))})}),bs.any&&typeof AggregateError<"u"&&Nt(B,"any",function(){const t=At.apply(null,arguments).map(ns);return new B((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length;const s=new Array(r);t.forEach((o,i)=>B.resolve(o).then(a=>e(a),a=>{s[i]=a,--r||n(new AggregateError(s))}))})}));const $e={awaits:0,echoes:0,id:0};var ym=0,Ss=[],Ro=0,js=0,bm=0;function en(t,e,n,r){var s=W,o=Object.create(s);o.parent=s,o.ref=0,o.global=!1,o.id=++bm;var i=Kn.env;o.env=ia?{Promise:B,PromiseProp:{value:B,configurable:!0,writable:!0},all:B.all,race:B.race,allSettled:B.allSettled,any:B.any,resolve:B.resolve,reject:B.reject,nthen:Ic(i.nthen,o),gthen:Ic(i.gthen,o)}:{},e&&He(o,e),++s.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=er(o,t,n,r);return o.ref===0&&o.finalize(),a}function Zn(){return $e.id||($e.id=++ym),++$e.awaits,$e.echoes+=Du,$e.id}function jt(){return!!$e.awaits&&(--$e.awaits==0&&($e.id=0),$e.echoes=$e.awaits*Du,!0)}function ns(t){return $e.echoes&&t&&t.constructor===bs?(Zn(),t.then(e=>(jt(),e),e=>(jt(),ke(e)))):t}function vm(t){++js,$e.echoes&&--$e.echoes!=0||($e.echoes=$e.id=0),Ss.push(W),tn(t,!0)}function wm(){var t=Ss[Ss.length-1];Ss.pop(),tn(t,!1)}function tn(t,e){var n=W;if((e?!$e.echoes||Ro++&&t===W:!Ro||--Ro&&t===W)||Lu(e?vm.bind(null,t):wm),t!==W&&(W=t,n===Kn&&(Kn.env=Fu()),ia)){var r=Kn.env.Promise,s=t.env;Ns.then=s.nthen,r.prototype.then=s.gthen,(n.global||t.global)&&(Object.defineProperty(me,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function Fu(){var t=me.Promise;return ia?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(me,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Ns.then,gthen:t.prototype.then}:{}}function er(t,e,n,r,s){var o=W;try{return tn(t,!0),e(n,r,s)}finally{tn(o,!1)}}function Lu(t){Mu.call(si,t)}function $s(t,e,n,r){return typeof t!="function"?t:function(){var s=W;n&&Zn(),tn(e,!0);try{return t.apply(this,arguments)}finally{tn(s,!1),r&&Lu(jt)}}}function Ic(t,e){return function(n,r){return t.call(this,$s(n,e),$s(r,e))}}(""+Mu).indexOf("[native code]")===-1&&(Zn=jt=he);const Tc="unhandledrejection";function Ac(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,s={promise:e,reason:t};if(me.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Tc,!0,!0),He(r,s)):me.CustomEvent&&He(r=new CustomEvent(Tc,{detail:s}),s),r&&me.dispatchEvent&&(dispatchEvent(r),!me.PromiseRejectionEvent&&me.onunhandledrejection))try{me.onunhandledrejection(r)}catch{}Rt&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var ke=B.reject;function hi(t,e,n,r){if(t.idbdb&&(t._state.openComplete||W.letThrough||t._vip)){var s=t._createTransaction(e,n,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===sa.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>hi(t,e,n,r))):ke(o)}return s._promise(e,(o,i)=>en(()=>(W.trans=s,r(o,i,s)))).then(o=>s._completion.then(()=>o))}if(t._state.openComplete)return ke(new G.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return ke(new G.DatabaseClosed);t.open().catch(he)}return t._state.dbReadyPromise.then(()=>hi(t,e,n,r))}const Oc="3.2.5",fn="￿",di=-1/0,kt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ku="String expected.",vr=[],ao=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Sm=ao,Cm=ao,Hu=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),co="__dbnames",Po="readonly",ko="readwrite";function wn(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const qu={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function rs(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=qr(e))[t],e)}class Em{_trans(e,n,r){const s=this._tx||W.trans,o=this.name;function i(c,u,l){if(!l.schema[o])throw new G.NotFound("Table "+o+" not part of transaction");return n(l.idbtrans,l)}const a=Wr();try{return s&&s.db===this.db?s===W.trans?s._promise(e,i,r):en(()=>s._promise(e,i,r),{trans:s,transless:W.transless||W}):hi(this.db,e,[this.name],i)}finally{a&&Vr()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(s=>this.hook.reading.fire(s))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Be(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=xe(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>{if(u.compound&&n.every(l=>u.keyPath.indexOf(l)>=0)){for(let l=0;l<n.length;++l)if(n.indexOf(u.keyPath[l])===-1)return!1;return!0}return!1}).sort((u,l)=>u.keyPath.length-l.keyPath.length)[0];if(r&&this.db._maxKey!==fn){const u=r.keyPath.slice(0,n.length);return this.where(u).equals(u.map(l=>e[l]))}!r&&Rt&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:s}=this.schema,o=this.db._deps.indexedDB;function i(u,l){try{return o.cmp(u,l)===0}catch{return!1}}const[a,c]=n.reduce(([u,l],f)=>{const h=s[f],p=e[f];return[u||h,u||!h?wn(l,h&&h.multi?_=>{const m=Ut(_,f);return Be(m)&&m.some(v=>i(p,v))}:_=>i(p,Ut(_,f))):l]},[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Be(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const s=Object.create(e.prototype);for(var o in r)if(et(r,o))try{s[o]=r[o]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){He(this,e)})}add(e,n){const{auto:r,keyPath:s}=this.schema.primKey;let o=e;return s&&r&&(o=rs(s)(e)),this._trans("readwrite",i=>this.core.mutate({trans:i,type:"add",keys:n!=null?[n]:null,values:[o]})).then(i=>i.numFailures?B.reject(i.failures[0]):i.lastResult).then(i=>{if(s)try{dt(e,s,i)}catch{}return i})}update(e,n){if(typeof e!="object"||Be(e))return this.where(":id").equals(e).modify(n);{const r=Ut(e,this.schema.primKey.keyPath);if(r===void 0)return ke(new G.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?xe(n).forEach(s=>{dt(e,s,n[s])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:s}=this.schema.primKey;let o=e;return s&&r&&(o=rs(s)(e)),this._trans("readwrite",i=>this.core.mutate({trans:i,type:"put",values:[o],keys:n!=null?[n]:null})).then(i=>i.numFailures?B.reject(i.failures[0]):i.lastResult).then(i=>{if(s)try{dt(e,s,i)}catch{}return i})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?B.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:qu})).then(e=>e.numFailures?B.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,n,r){const s=Array.isArray(n)?n:void 0,o=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",i=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&s)throw new G.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let l=c&&a?e.map(rs(c)):e;return this.core.mutate({trans:i,type:"add",keys:s,values:l,wantResults:o}).then(({numFailures:f,results:h,lastResult:p,failures:_})=>{if(f===0)return o?h:p;throw new yr(`${this.name}.bulkAdd(): ${f} of ${u} operations failed`,_)})})}bulkPut(e,n,r){const s=Array.isArray(n)?n:void 0,o=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",i=>{const{auto:a,keyPath:c}=this.schema.primKey;if(c&&s)throw new G.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");const u=e.length;let l=c&&a?e.map(rs(c)):e;return this.core.mutate({trans:i,type:"put",keys:s,values:l,wantResults:o}).then(({numFailures:f,results:h,lastResult:p,failures:_})=>{if(f===0)return o?h:p;throw new yr(`${this.name}.bulkPut(): ${f} of ${u} operations failed`,_)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:s,failures:o})=>{if(r===0)return s;throw new yr(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,o)})}}function wr(t){var e={},n=function(i,a){if(a){for(var c=arguments.length,u=new Array(c-1);--c;)u[c-1]=arguments[c];return e[i].subscribe.apply(null,u),t}if(typeof i=="string")return e[i]};n.addEventType=o;for(var r=1,s=arguments.length;r<s;++r)o(arguments[r]);return n;function o(i,a,c){if(typeof i!="object"){var u;a||(a=gm),c||(c=he);var l={subscribers:[],fire:c,subscribe:function(f){l.subscribers.indexOf(f)===-1&&(l.subscribers.push(f),l.fire=a(l.fire,f))},unsubscribe:function(f){l.subscribers=l.subscribers.filter(function(h){return h!==f}),l.fire=l.subscribers.reduce(a,c)}};return e[i]=n[i]=l,l}xe(u=i).forEach(function(f){var h=u[f];if(Be(h))o(f,u[f][0],u[f][1]);else{if(h!=="asap")throw new G.InvalidArgument("Invalid event config");var p=o(f,Or,function(){for(var _=arguments.length,m=new Array(_);_--;)m[_]=arguments[_];p.subscribers.forEach(function(v){Eu(function(){v.apply(null,m)})})})}})}}function ir(t,e){return Fn(e).from({prototype:t}),e}function Tn(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Io(t,e){t.filter=wn(t.filter,e)}function To(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>wn(r(),e()):e,t.justLimit=n&&!r}function Cs(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new G.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Dc(t,e,n){const r=Cs(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function ss(t,e,n,r){const s=t.replayFilter?wn(t.filter,t.replayFilter()):t.filter;if(t.or){const o={},i=(a,c,u)=>{if(!s||s(c,u,h=>c.stop(h),h=>c.fail(h))){var l=c.primaryKey,f=""+l;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(l)),et(o,f)||(o[f]=!0,e(a,c,u))}};return Promise.all([t.or._iterate(i,n),Mc(Dc(t,r,n),t.algorithm,i,!t.keysOnly&&t.valueMapper)])}return Mc(Dc(t,r,n),wn(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function Mc(t,e,n,r){var s=ve(r?(o,i,a)=>n(r(o),i,a):n);return t.then(o=>{if(o)return o.start(()=>{var i=()=>o.continue();e&&!e(o,a=>i=a,a=>{o.stop(a),i=he},a=>{o.fail(a),i=he})||s(o.value,o,a=>i=a),i()})})}function Ke(t,e){try{const n=Nc(t),r=Nc(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,o){const i=s.length,a=o.length,c=i<a?i:a;for(let u=0;u<c;++u)if(s[u]!==o[u])return s[u]<o[u]?-1:1;return i===a?0:i<a?-1:1}(Uc(t),Uc(e));case"Array":return function(s,o){const i=s.length,a=o.length,c=i<a?i:a;for(let u=0;u<c;++u){const l=Ke(s[u],o[u]);if(l!==0)return l}return i===a?0:i<a?-1:1}(t,e)}}catch{}return NaN}function Nc(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=ti(t);return n==="ArrayBuffer"?"binary":n}function Uc(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class xm{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,ke.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,ke.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=wn(n.algorithm,e)}_iterate(e,n){return ss(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&He(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>ss(n,e,r,n.table.core))}count(e){return this._read(n=>{const r=this._ctx,s=r.table.core;if(Tn(r,!0))return s.count({trans:n,query:{index:Cs(r,s.schema),range:r.range}}).then(i=>Math.min(i,r.limit));var o=0;return ss(r,()=>(++o,!1),n,s).then(()=>o)}).then(e)}sortBy(e,n){const r=e.split(".").reverse(),s=r[0],o=r.length-1;function i(u,l){return l?i(u[r[l]],l-1):u[s]}var a=this._ctx.dir==="next"?1:-1;function c(u,l){var f=i(u,o),h=i(l,o);return f<h?-a:f>h?a:0}return this.toArray(function(u){return u.sort(c)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Tn(r,!0)&&r.limit>0){const{valueMapper:s}=r,o=Cs(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:o,range:r.range}}).then(({result:i})=>s?i.map(s):i)}{const s=[];return ss(r,o=>s.push(o),n,r.table.core).then(()=>s)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,Tn(n)?To(n,()=>{var r=e;return(s,o)=>r===0||(r===1?(--r,!1):(o(()=>{s.advance(r),r=0}),!1))}):To(n,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),To(this._ctx,()=>{var n=e;return function(r,s,o){return--n<=0&&s(o),n>=0}},!0),this}until(e,n){return Io(this._ctx,function(r,s,o){return!e(r.value)||(s(o),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,r;return Io(this._ctx,function(s){return e(s.value)}),n=this._ctx,r=e,n.isMatch=wn(n.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.primaryKey,s)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,o){r.push(o.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&Tn(n,!0)&&n.limit>0)return this._read(s=>{var o=Cs(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:s})=>s).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,o){r.push(o.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return Io(this._ctx,function(s){var o=s.primaryKey.toString(),i=et(r,o);return r[o]=!0,!i}),this}modify(e){var n=this._ctx;return this._write(r=>{var s;if(typeof e=="function")s=e;else{var o=xe(e),i=o.length;s=function(m){for(var v=!1,y=0;y<i;++y){var b=o[y],S=e[b];Ut(m,b)!==S&&(dt(m,b,S),v=!0)}return v}}const a=n.table.core,{outbound:c,extractKey:u}=a.schema.primaryKey,l=this.db._options.modifyChunkSize||200,f=[];let h=0;const p=[],_=(m,v)=>{const{failures:y,numFailures:b}=v;h+=m-b;for(let S of xe(y))f.push(y[S])};return this.clone().primaryKeys().then(m=>{const v=y=>{const b=Math.min(l,m.length-y);return a.getMany({trans:r,keys:m.slice(y,y+b),cache:"immutable"}).then(S=>{const I=[],O=[],R=c?[]:null,T=[];for(let N=0;N<b;++N){const se=S[N],ee={value:qr(se),primKey:m[y+N]};s.call(ee,ee.value,ee)!==!1&&(ee.value==null?T.push(m[y+N]):c||Ke(u(se),u(ee.value))===0?(O.push(ee.value),c&&R.push(m[y+N])):(T.push(m[y+N]),I.push(ee.value)))}const z=Tn(n)&&n.limit===1/0&&(typeof e!="function"||e===Ao)&&{index:n.index,range:n.range};return Promise.resolve(I.length>0&&a.mutate({trans:r,type:"add",values:I}).then(N=>{for(let se in N.failures)T.splice(parseInt(se),1);_(I.length,N)})).then(()=>(O.length>0||z&&typeof e=="object")&&a.mutate({trans:r,type:"put",keys:R,values:O,criteria:z,changeSpec:typeof e!="function"&&e}).then(N=>_(O.length,N))).then(()=>(T.length>0||z&&e===Ao)&&a.mutate({trans:r,type:"delete",keys:T,criteria:z}).then(N=>_(T.length,N))).then(()=>m.length>y+b&&v(y+l))})};return v(0).then(()=>{if(f.length>0)throw new Ms("Error modifying one or more objects",f,h,p);return m.length})})})}delete(){var e=this._ctx,n=e.range;return Tn(e)&&(e.isPrimKey&&!Cm||n.type===3)?this._write(r=>{const{primaryKey:s}=e.table.core.schema,o=n;return e.table.core.count({trans:r,query:{index:s,range:o}}).then(i=>e.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(({failures:a,lastResult:c,results:u,numFailures:l})=>{if(l)throw new Ms("Could not delete some values",Object.keys(a).map(f=>a[f]),i-l);return i-l}))}):this.modify(Ao)}}const Ao=(t,e)=>e.value=null;function Rm(t,e){return t<e?-1:t===e?0:1}function Pm(t,e){return t>e?-1:t===e?0:1}function Qe(t,e,n){var r=t instanceof Vu?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function An(t){return new t.Collection(t,()=>Wu("")).limit(0)}function km(t,e,n,r,s,o){for(var i=Math.min(t.length,r.length),a=-1,c=0;c<i;++c){var u=e[c];if(u!==r[c])return s(t[c],n[c])<0?t.substr(0,c)+n[c]+n.substr(c+1):s(t[c],r[c])<0?t.substr(0,c)+r[c]+n.substr(c+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;s(t[c],u)<0&&(a=c)}return i<r.length&&o==="next"?t+n.substr(t.length):i<t.length&&o==="prev"?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function os(t,e,n,r){var s,o,i,a,c,u,l,f=n.length;if(!n.every(m=>typeof m=="string"))return Qe(t,Ku);function h(m){s=function(y){return y==="next"?b=>b.toUpperCase():b=>b.toLowerCase()}(m),o=function(y){return y==="next"?b=>b.toLowerCase():b=>b.toUpperCase()}(m),i=m==="next"?Rm:Pm;var v=n.map(function(y){return{lower:o(y),upper:s(y)}}).sort(function(y,b){return i(y.lower,b.lower)});a=v.map(function(y){return y.upper}),c=v.map(function(y){return y.lower}),u=m,l=m==="next"?"":r}h("next");var p=new t.Collection(t,()=>Kt(a[0],c[f-1]+r));p._ondirectionchange=function(m){h(m)};var _=0;return p._addAlgorithm(function(m,v,y){var b=m.key;if(typeof b!="string")return!1;var S=o(b);if(e(S,c,_))return!0;for(var I=null,O=_;O<f;++O){var R=km(b,S,a[O],c[O],i,u);R===null&&I===null?_=O+1:(I===null||i(I,R)>0)&&(I=R)}return v(I!==null?function(){m.continue(I+l)}:y),!1}),p}function Kt(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function Wu(t){return{type:1,lower:t,upper:t}}class Vu{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||s)&&(!r||!s)?An(this):new this.Collection(this,()=>Kt(e,n,!r,!s))}catch{return Qe(this,kt)}}equals(e){return e==null?Qe(this,kt):new this.Collection(this,()=>Wu(e))}above(e){return e==null?Qe(this,kt):new this.Collection(this,()=>Kt(e,void 0,!0))}aboveOrEqual(e){return e==null?Qe(this,kt):new this.Collection(this,()=>Kt(e,void 0,!1))}below(e){return e==null?Qe(this,kt):new this.Collection(this,()=>Kt(void 0,e,!1,!0))}belowOrEqual(e){return e==null?Qe(this,kt):new this.Collection(this,()=>Kt(void 0,e))}startsWith(e){return typeof e!="string"?Qe(this,Ku):this.between(e,e+fn,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):os(this,(n,r)=>n.indexOf(r[0])===0,[e],fn)}equalsIgnoreCase(e){return os(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=At.apply(Dn,arguments);return e.length===0?An(this):os(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=At.apply(Dn,arguments);return e.length===0?An(this):os(this,(n,r)=>r.some(s=>n.indexOf(s)===0),e,fn)}anyOf(){const e=At.apply(Dn,arguments);let n=this._cmp;try{e.sort(n)}catch{return Qe(this,kt)}if(e.length===0)return An(this);const r=new this.Collection(this,()=>Kt(e[0],e[e.length-1]));r._ondirectionchange=o=>{n=o==="next"?this._ascending:this._descending,e.sort(n)};let s=0;return r._addAlgorithm((o,i,a)=>{const c=o.key;for(;n(c,e[s])>0;)if(++s,s===e.length)return i(a),!1;return n(c,e[s])===0||(i(()=>{o.continue(e[s])}),!1)}),r}notEqual(e){return this.inAnyRange([[di,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=At.apply(Dn,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Qe(this,kt)}const n=e.reduce((r,s)=>r?r.concat([[r[r.length-1][1],s]]):[[di,s]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,s=this._ascending,o=this._descending,i=this._min,a=this._max;if(e.length===0)return An(this);if(!e.every(b=>b[0]!==void 0&&b[1]!==void 0&&s(b[0],b[1])<=0))return Qe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",G.InvalidArgument);const c=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let l,f=s;function h(b,S){return f(b[0],S[0])}try{l=e.reduce(function(b,S){let I=0,O=b.length;for(;I<O;++I){const R=b[I];if(r(S[0],R[1])<0&&r(S[1],R[0])>0){R[0]=i(R[0],S[0]),R[1]=a(R[1],S[1]);break}}return I===O&&b.push(S),b},[]),l.sort(h)}catch{return Qe(this,kt)}let p=0;const _=u?b=>s(b,l[p][1])>0:b=>s(b,l[p][1])>=0,m=c?b=>o(b,l[p][0])>0:b=>o(b,l[p][0])>=0;let v=_;const y=new this.Collection(this,()=>Kt(l[0][0],l[l.length-1][1],!c,!u));return y._ondirectionchange=b=>{b==="next"?(v=_,f=s):(v=m,f=o),l.sort(h)},y._addAlgorithm((b,S,I)=>{for(var O=b.key;v(O);)if(++p,p===l.length)return S(I),!1;return!!function(R){return!_(R)&&!m(R)}(O)||(this._cmp(O,l[p][1])===0||this._cmp(O,l[p][0])===0||S(()=>{f===s?b.continue(l[p][0]):b.continue(l[p][1])}),!1)}),y}startsWithAnyOf(){const e=At.apply(Dn,arguments);return e.every(n=>typeof n=="string")?e.length===0?An(this):this.inAnyRange(e.map(n=>[n,n+fn])):Qe(this,"startsWithAnyOf() only works with strings")}}function yt(t){return ve(function(e){return Mr(e),t(e.target.error),!1})}function Mr(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const Nr="storagemutated",Jt="x-storagemutated-1",nn=wr(null,Nr);class Im{_lock(){return cr(!W.global),++this._reculock,this._reculock!==1||W.global||(W.lockOwnerFor=this),this}_unlock(){if(cr(!W.global),--this._reculock==0)for(W.global||(W.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{er(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&W.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(cr(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new G.DatabaseClosed(r);case"MissingAPIError":throw new G.MissingAPI(r.message,r);default:throw new G.OpenFailed(r)}if(!this.active)throw new G.TransactionInactive;return cr(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ve(s=>{Mr(s),this._reject(e.error)}),e.onabort=ve(s=>{Mr(s),this.active&&this._reject(new G.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=ve(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&nn.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return ke(new G.ReadOnly("Transaction is readonly"));if(!this.active)return ke(new G.TransactionInactive);if(this._locked())return new B((o,i)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(o,i)},W])});if(r)return en(()=>{var o=new B((i,a)=>{this._lock();const c=n(i,a,this);c&&c.then&&c.then(i,a)});return o.finally(()=>this._unlock()),o._lib=!0,o});var s=new B((o,i)=>{var a=n(o,i,this);a&&a.then&&a.then(o,i)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=B.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function i(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=i)})()}var o=n._waitingFor;return new B((i,a)=>{r.then(c=>n._waitingQueue.push(ve(i.bind(null,c))),c=>n._waitingQueue.push(ve(a.bind(null,c)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new G.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(et(n,e))return n[e];const r=this.schema[e];if(!r)throw new G.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,r,this);return s.core=this.db.core.table(e),n[e]=s,s}}function pi(t,e,n,r,s,o,i){return{name:t,keyPath:e,unique:n,multi:r,auto:s,compound:o,src:(n&&!i?"&":"")+(r?"*":"")+(s?"++":"")+zu(e)}}function zu(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Gu(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:xu(n,r=>[r.name,r])}}let Ur=t=>{try{return t.only([[]]),Ur=()=>[[]],[[]]}catch{return Ur=()=>fn,fn}};function gi(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>Ut(r,e)}(t):e=>Ut(e,t)}function jc(t){return[].slice.call(t)}let Tm=0;function Sr(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function Am(t,e,n){function r(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:l,lowerOpen:f,upperOpen:h}=c;return u===void 0?l===void 0?null:e.upperBound(l,!!h):l===void 0?e.lowerBound(u,!!f):e.bound(u,l,!!f,!!h)}const{schema:s,hasGetAll:o}=function(c,u){const l=jc(c.objectStoreNames);return{schema:{name:c.name,tables:l.map(f=>u.objectStore(f)).map(f=>{const{keyPath:h,autoIncrement:p}=f,_=Be(h),m=h==null,v={},y={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:_,keyPath:h,autoIncrement:p,unique:!0,extractKey:gi(h)},indexes:jc(f.indexNames).map(b=>f.index(b)).map(b=>{const{name:S,unique:I,multiEntry:O,keyPath:R}=b,T={name:S,compound:Be(R),keyPath:R,unique:I,multiEntry:O,extractKey:gi(R)};return v[Sr(R)]=T,T}),getIndexByKeyPath:b=>v[Sr(b)]};return v[":id"]=y.primaryKey,h!=null&&(v[Sr(h)]=y.primaryKey),y})},hasGetAll:l.length>0&&"getAll"in u.objectStore(l[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),i=s.tables.map(c=>function(u){const l=u.name;return{name:l,schema:u,mutate:function({trans:f,type:h,keys:p,values:_,range:m}){return new Promise((v,y)=>{v=ve(v);const b=f.objectStore(l),S=b.keyPath==null,I=h==="put"||h==="add";if(!I&&h!=="delete"&&h!=="deleteRange")throw new Error("Invalid operation type: "+h);const{length:O}=p||_||{length:1};if(p&&_&&p.length!==_.length)throw new Error("Given keys array must have same length as given values array.");if(O===0)return v({numFailures:0,failures:{},results:[],lastResult:void 0});let R;const T=[],z=[];let N=0;const se=we=>{++N,Mr(we)};if(h==="deleteRange"){if(m.type===4)return v({numFailures:N,failures:z,results:[],lastResult:void 0});m.type===3?T.push(R=b.clear()):T.push(R=b.delete(r(m)))}else{const[we,fe]=I?S?[_,p]:[_,null]:[p,null];if(I)for(let le=0;le<O;++le)T.push(R=fe&&fe[le]!==void 0?b[h](we[le],fe[le]):b[h](we[le])),R.onerror=se;else for(let le=0;le<O;++le)T.push(R=b[h](we[le])),R.onerror=se}const ee=we=>{const fe=we.target.result;T.forEach((le,Xe)=>le.error!=null&&(z[Xe]=le.error)),v({numFailures:N,failures:z,results:h==="delete"?p:T.map(le=>le.result),lastResult:fe})};R.onerror=we=>{se(we),ee(we)},R.onsuccess=ee})},getMany:({trans:f,keys:h})=>new Promise((p,_)=>{p=ve(p);const m=f.objectStore(l),v=h.length,y=new Array(v);let b,S=0,I=0;const O=T=>{const z=T.target;y[z._pos]=z.result,++I===S&&p(y)},R=yt(_);for(let T=0;T<v;++T)h[T]!=null&&(b=m.get(h[T]),b._pos=T,b.onsuccess=O,b.onerror=R,++S);S===0&&p(y)}),get:({trans:f,key:h})=>new Promise((p,_)=>{p=ve(p);const m=f.objectStore(l).get(h);m.onsuccess=v=>p(v.target.result),m.onerror=yt(_)}),query:function(f){return h=>new Promise((p,_)=>{p=ve(p);const{trans:m,values:v,limit:y,query:b}=h,S=y===1/0?void 0:y,{index:I,range:O}=b,R=m.objectStore(l),T=I.isPrimaryKey?R:R.index(I.name),z=r(O);if(y===0)return p({result:[]});if(f){const N=v?T.getAll(z,S):T.getAllKeys(z,S);N.onsuccess=se=>p({result:se.target.result}),N.onerror=yt(_)}else{let N=0;const se=v||!("openKeyCursor"in T)?T.openCursor(z):T.openKeyCursor(z),ee=[];se.onsuccess=we=>{const fe=se.result;return fe?(ee.push(v?fe.value:fe.primaryKey),++N===y?p({result:ee}):void fe.continue()):p({result:ee})},se.onerror=yt(_)}})}(o),openCursor:function({trans:f,values:h,query:p,reverse:_,unique:m}){return new Promise((v,y)=>{v=ve(v);const{index:b,range:S}=p,I=f.objectStore(l),O=b.isPrimaryKey?I:I.index(b.name),R=_?m?"prevunique":"prev":m?"nextunique":"next",T=h||!("openKeyCursor"in O)?O.openCursor(r(S),R):O.openKeyCursor(r(S),R);T.onerror=yt(y),T.onsuccess=ve(z=>{const N=T.result;if(!N)return void v(null);N.___id=++Tm,N.done=!1;const se=N.continue.bind(N);let ee=N.continuePrimaryKey;ee&&(ee=ee.bind(N));const we=N.advance.bind(N),fe=()=>{throw new Error("Cursor not stopped")};N.trans=f,N.stop=N.continue=N.continuePrimaryKey=N.advance=()=>{throw new Error("Cursor not started")},N.fail=ve(y),N.next=function(){let le=1;return this.start(()=>le--?this.continue():this.stop()).then(()=>this)},N.start=le=>{const Xe=new Promise((Y,te)=>{Y=ve(Y),T.onerror=yt(te),N.fail=te,N.stop=Fe=>{N.stop=N.continue=N.continuePrimaryKey=N.advance=fe,Y(Fe)}}),pe=()=>{if(T.result)try{le()}catch(Y){N.fail(Y)}else N.done=!0,N.start=()=>{throw new Error("Cursor behind last entry")},N.stop()};return T.onsuccess=ve(Y=>{T.onsuccess=pe,pe()}),N.continue=se,N.continuePrimaryKey=ee,N.advance=we,pe(),Xe},v(N)},y)})},count({query:f,trans:h}){const{index:p,range:_}=f;return new Promise((m,v)=>{const y=h.objectStore(l),b=p.isPrimaryKey?y:y.index(p.name),S=r(_),I=S?b.count(S):b.count();I.onsuccess=ve(O=>m(O.target.result)),I.onerror=yt(v)})}}}(c)),a={};return i.forEach(c=>a[c.name]=c),{stack:"dbcore",transaction:t.transaction.bind(t),table(c){if(!a[c])throw new Error(`Table '${c}' not found`);return a[c]},MIN_KEY:-1/0,MAX_KEY:Ur(e),schema:s}}function mi({_novip:t},e){const n=e.db,r=function(s,o,{IDBKeyRange:i,indexedDB:a},c){return{dbcore:function(l,f){return f.reduce((h,{create:p})=>({...h,...p(h)}),l)}(Am(o,i,c),s.dbcore)}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(s=>{const o=s.name;t.core.schema.tables.some(i=>i.name===o)&&(s.core=t.core.table(o),t[o]instanceof t.Table&&(t[o].core=s.core))})}function Bs({_novip:t},e,n,r){n.forEach(s=>{const o=r[s];e.forEach(i=>{const a=ta(i,s);(!a||"value"in a&&a.value===void 0)&&(i===t.Transaction.prototype||i instanceof t.Transaction?Nt(i,s,{get(){return this.table(s)},set(c){Su(this,s,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):i[s]=new t.Table(s,o))})})}function _i({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function Om(t,e){return t._cfg.version-e._cfg.version}function Dm(t,e,n,r){const s=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,s);o.create(n),o._completion.catch(r);const i=o._reject.bind(o),a=W.transless||W;en(()=>{W.trans=o,W.transless=a,e===0?(xe(s).forEach(c=>{Oo(n,c,s[c].primKey,s[c].indexes)}),mi(t,n),B.follow(()=>t.on.populate.fire(o)).catch(i)):function({_novip:c},u,l,f){const h=[],p=c._versions;let _=c._dbSchema=bi(c,c.idbdb,f),m=!1;const v=p.filter(b=>b._cfg.version>=u);function y(){return h.length?B.resolve(h.shift()(l.idbtrans)).then(y):B.resolve()}return v.forEach(b=>{h.push(()=>{const S=_,I=b._cfg.dbschema;vi(c,S,f),vi(c,I,f),_=c._dbSchema=I;const O=Ju(S,I);O.add.forEach(T=>{Oo(f,T[0],T[1].primKey,T[1].indexes)}),O.change.forEach(T=>{if(T.recreate)throw new G.Upgrade("Not yet support for changing primary key");{const z=f.objectStore(T.name);T.add.forEach(N=>yi(z,N)),T.change.forEach(N=>{z.deleteIndex(N.name),yi(z,N)}),T.del.forEach(N=>z.deleteIndex(N))}});const R=b._cfg.contentUpgrade;if(R&&b._cfg.version>u){mi(c,f),l._memoizedTables={},m=!0;let T=Ru(I);O.del.forEach(ee=>{T[ee]=S[ee]}),_i(c,[c.Transaction.prototype]),Bs(c,[c.Transaction.prototype],xe(T),T),l.schema=T;const z=na(R);let N;z&&Zn();const se=B.follow(()=>{if(N=R(l),N&&z){var ee=jt.bind(null,null);N.then(ee,ee)}});return N&&typeof N.then=="function"?B.resolve(N):se.then(()=>N)}}),h.push(S=>{(!m||!Sm)&&function(I,O){[].slice.call(O.db.objectStoreNames).forEach(R=>I[R]==null&&O.db.deleteObjectStore(R))}(b._cfg.dbschema,S),_i(c,[c.Transaction.prototype]),Bs(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),l.schema=c._dbSchema})}),y().then(()=>{var b,S;S=f,xe(b=_).forEach(I=>{S.db.objectStoreNames.contains(I)||Oo(S,I,b[I].primKey,b[I].indexes)})})}(t,e,o,n).catch(i)})}function Ju(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const s=t[r],o=e[r];if(s){const i={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||s.primKey.auto!==o.primKey.auto&&!ao)i.recreate=!0,n.change.push(i);else{const a=s.idxByName,c=o.idxByName;let u;for(u in a)c[u]||i.del.push(u);for(u in c){const l=a[u],f=c[u];l?l.src!==f.src&&i.change.push(f):i.add.push(f)}(i.del.length>0||i.add.length>0||i.change.length>0)&&n.change.push(i)}}else n.add.push([r,o])}return n}function Oo(t,e,n,r){const s=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(o=>yi(s,o)),s}function yi(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function bi(t,e,n){const r={};return Ds(e.objectStoreNames,0).forEach(s=>{const o=n.objectStore(s);let i=o.keyPath;const a=pi(zu(i),i||"",!1,!1,!!o.autoIncrement,i&&typeof i!="string",!0),c=[];for(let l=0;l<o.indexNames.length;++l){const f=o.index(o.indexNames[l]);i=f.keyPath;var u=pi(f.name,i,!!f.unique,!!f.multiEntry,!1,i&&typeof i!="string",!1);c.push(u)}r[s]=Gu(s,a,c)}),r}function vi({_novip:t},e,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const o=r[s],i=n.objectStore(o);t._hasGetAll="getAll"in i;for(let a=0;a<i.indexNames.length;++a){const c=i.indexNames[a],u=i.index(c).keyPath,l=typeof u=="string"?u:"["+Ds(u).join("+")+"]";if(e[o]){const f=e[o].idxByName[l];f&&(f.name=c,delete e[o].idxByName[l],e[o].idxByName[c]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&me.WorkerGlobalScope&&me instanceof me.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class Mm{_parseStoresSpec(e,n){xe(e).forEach(r=>{if(e[r]!==null){var s=e[r].split(",").map((i,a)=>{const c=(i=i.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return pi(c,u||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),Be(u),a===0)}),o=s.shift();if(o.multi)throw new G.Schema("Primary key cannot be multi-valued");s.forEach(i=>{if(i.auto)throw new G.Schema("Only primary key can be marked as autoIncrement (++)");if(!i.keyPath)throw new G.Schema("Index must have a name and cannot be an empty string")}),n[r]=Gu(r,o,s)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?He(this._cfg.storesSource,e):e;const r=n._versions,s={};let o={};return r.forEach(i=>{He(s,i._cfg.storesSource),o=i._cfg.dbschema={},i._parseStoresSpec(s,o)}),n._dbSchema=o,_i(n,[n._allTables,n,n.Transaction.prototype]),Bs(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],xe(o),o),n._storeNames=xe(o),this}upgrade(e){return this._cfg.contentUpgrade=oa(this._cfg.contentUpgrade||he,e),this}}function la(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new mn(co,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function ua(t){return t&&typeof t.databases=="function"}function wi(t){return en(function(){return W.letThrough=!0,t()})}function Nm(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function Um(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?ke(e.dbOpenError):t);Rt&&(e.openCanceller._stackHolder=Rn()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function s(){if(e.openCanceller!==r)throw new G.DatabaseClosed("db.open() was cancelled")}let o=e.dbReadyResolve,i=null,a=!1;const c=()=>new B((u,l)=>{if(s(),!n)throw new G.MissingAPI;const f=t.name,h=e.autoSchema?n.open(f):n.open(f,Math.round(10*t.verno));if(!h)throw new G.MissingAPI;h.onerror=yt(l),h.onblocked=ve(t._fireOnBlocked),h.onupgradeneeded=ve(p=>{if(i=h.transaction,e.autoSchema&&!t._options.allowEmptyDB){h.onerror=Mr,i.abort(),h.result.close();const m=n.deleteDatabase(f);m.onsuccess=m.onerror=ve(()=>{l(new G.NoSuchDatabase(`Database ${f} doesnt exist`))})}else{i.onerror=yt(l);var _=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;a=_<1,t._novip.idbdb=h.result,Dm(t,_/10,i,l)}},l),h.onsuccess=ve(()=>{i=null;const p=t._novip.idbdb=h.result,_=Ds(p.objectStoreNames);if(_.length>0)try{const v=p.transaction((m=_).length===1?m[0]:m,"readonly");e.autoSchema?function({_novip:y},b,S){y.verno=b.version/10;const I=y._dbSchema=bi(0,b,S);y._storeNames=Ds(b.objectStoreNames,0),Bs(y,[y._allTables],xe(I),I)}(t,p,v):(vi(t,t._dbSchema,v),function(y,b){const S=Ju(bi(0,y.idbdb,b),y._dbSchema);return!(S.add.length||S.change.some(I=>I.add.length||I.change.length))}(t,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),mi(t,v)}catch{}var m;vr.push(t),p.onversionchange=ve(v=>{e.vcFired=!0,t.on("versionchange").fire(v)}),p.onclose=ve(v=>{t.on("close").fire(v)}),a&&function({indexedDB:v,IDBKeyRange:y},b){!ua(v)&&b!==co&&la(v,y).put({name:b}).catch(he)}(t._deps,f),u()},l)}).catch(u=>u&&u.name==="UnknownError"&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),c()):B.reject(u));return B.race([r,(typeof navigator>"u"?B.resolve():Nm()).then(c)]).then(()=>(s(),e.onReadyBeingFired=[],B.resolve(wi(()=>t.on.ready.fire(t.vip))).then(function u(){if(e.onReadyBeingFired.length>0){let l=e.onReadyBeingFired.reduce(oa,he);return e.onReadyBeingFired=[],B.resolve(wi(()=>l(t.vip))).then(u)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(u=>{e.dbOpenError=u;try{i&&i.abort()}catch{}return r===e.openCanceller&&t._close(),ke(u)}).finally(()=>{e.openComplete=!0,o()})}function Si(t){var e=o=>t.next(o),n=s(e),r=s(o=>t.throw(o));function s(o){return i=>{var a=o(i),c=a.value;return a.done?c:c&&typeof c.then=="function"?c.then(n,r):Be(c)?Promise.all(c).then(n,r):n(c)}}return s(e)()}function jm(t,e,n){var r=arguments.length;if(r<2)throw new G.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];return n=s.pop(),[t,Pu(s),n]}function Xu(t,e,n,r,s){return B.resolve().then(()=>{const o=W.transless||W,i=t._createTransaction(e,n,t._dbSchema,r),a={trans:i,transless:o};if(r)i.idbtrans=r.idbtrans;else try{i.create(),t._state.PR1398_maxLoop=3}catch(f){return f.name===sa.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Xu(t,e,n,null,s))):ke(f)}const c=na(s);let u;c&&Zn();const l=B.follow(()=>{if(u=s.call(i,i),u)if(c){var f=jt.bind(null,null);u.then(f,f)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=Si(u))},a);return(u&&typeof u.then=="function"?B.resolve(u).then(f=>i.active?f:ke(new G.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):l.then(()=>u)).then(f=>(r&&i._resolve(),i._completion.then(()=>f))).catch(f=>(i._reject(f),ke(f)))})}function is(t,e,n){const r=Be(t)?t.slice():[t];for(let s=0;s<n;++s)r.push(e);return r}const $m={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,s={},o=[];function i(l,f,h){const p=Sr(l),_=s[p]=s[p]||[],m=l==null?0:typeof l=="string"?1:l.length,v=f>0,y={...h,isVirtual:v,keyTail:f,keyLength:m,extractKey:gi(l),unique:!v&&h.unique};return _.push(y),y.isPrimaryKey||o.push(y),m>1&&i(m===2?l[0]:l.slice(0,m-1),f+1,h),_.sort((b,S)=>b.keyTail-S.keyTail),y}const a=i(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[a];for(const l of r.indexes)i(l.keyPath,0,l);function c(l){const f=l.query.index;return f.isVirtual?{...l,query:{index:f,range:(h=l.query.range,p=f.keyTail,{type:h.type===1?2:h.type,lower:is(h.lower,h.lowerOpen?t.MAX_KEY:t.MIN_KEY,p),lowerOpen:!0,upper:is(h.upper,h.upperOpen?t.MIN_KEY:t.MAX_KEY,p),upperOpen:!0})}}:l;var h,p}return{...n,schema:{...r,primaryKey:a,indexes:o,getIndexByKeyPath:function(l){const f=s[Sr(l)];return f&&f[0]}},count:l=>n.count(c(l)),query:l=>n.query(c(l)),openCursor(l){const{keyTail:f,isVirtual:h,keyLength:p}=l.query.index;return h?n.openCursor(c(l)).then(_=>_&&function(m){return Object.create(m,{continue:{value:function(y){y!=null?m.continue(is(y,l.reverse?t.MAX_KEY:t.MIN_KEY,f)):l.unique?m.continue(m.key.slice(0,p).concat(l.reverse?t.MIN_KEY:t.MAX_KEY,f)):m.continue()}},continuePrimaryKey:{value(y,b){m.continuePrimaryKey(is(y,t.MAX_KEY,f),b)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const y=m.key;return p===1?y[0]:y.slice(0,p)}},value:{get:()=>m.value}})}(_)):n.openCursor(l)}}}}}};function fa(t,e,n,r){return n=n||{},r=r||"",xe(t).forEach(s=>{if(et(e,s)){var o=t[s],i=e[s];if(typeof o=="object"&&typeof i=="object"&&o&&i){const a=ti(o);a!==ti(i)?n[r+s]=e[s]:a==="Object"?fa(o,i,n,r+s+"."):o!==i&&(n[r+s]=e[s])}else o!==i&&(n[r+s]=e[s])}else n[r+s]=void 0}),xe(e).forEach(s=>{et(t,s)||(n[r+s]=e[s])}),n}const Bm={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(o){const i=W.trans,{deleting:a,creating:c,updating:u}=i.table(e).hook;switch(o.type){case"add":if(c.fire===he)break;return i._promise("readwrite",()=>l(o),!0);case"put":if(c.fire===he&&u.fire===he)break;return i._promise("readwrite",()=>l(o),!0);case"delete":if(a.fire===he)break;return i._promise("readwrite",()=>l(o),!0);case"deleteRange":if(a.fire===he)break;return i._promise("readwrite",()=>function(h){return f(h.trans,h.range,1e4)}(o),!0)}return n.mutate(o);function l(h){const p=W.trans,_=h.keys||function(m,v){return v.type==="delete"?v.keys:v.keys||v.values.map(m.extractKey)}(r,h);if(!_)throw new Error("Keys missing");return(h=h.type==="add"||h.type==="put"?{...h,keys:_}:{...h}).type!=="delete"&&(h.values=[...h.values]),h.keys&&(h.keys=[...h.keys]),function(m,v,y){return v.type==="add"?Promise.resolve([]):m.getMany({trans:v.trans,keys:y,cache:"immutable"})}(n,h,_).then(m=>{const v=_.map((y,b)=>{const S=m[b],I={onerror:null,onsuccess:null};if(h.type==="delete")a.fire.call(I,y,S,p);else if(h.type==="add"||S===void 0){const O=c.fire.call(I,y,h.values[b],p);y==null&&O!=null&&(y=O,h.keys[b]=y,r.outbound||dt(h.values[b],r.keyPath,y))}else{const O=fa(S,h.values[b]),R=u.fire.call(I,O,y,S,p);if(R){const T=h.values[b];Object.keys(R).forEach(z=>{et(T,z)?T[z]=R[z]:dt(T,z,R[z])})}}return I});return n.mutate(h).then(({failures:y,results:b,numFailures:S,lastResult:I})=>{for(let O=0;O<_.length;++O){const R=b?b[O]:_[O],T=v[O];R==null?T.onerror&&T.onerror(y[O]):T.onsuccess&&T.onsuccess(h.type==="put"&&m[O]?h.values[O]:R)}return{failures:y,results:b,numFailures:S,lastResult:I}}).catch(y=>(v.forEach(b=>b.onerror&&b.onerror(y)),Promise.reject(y)))})}function f(h,p,_){return n.query({trans:h,values:!1,query:{index:r,range:p},limit:_}).then(({result:m})=>l({type:"delete",keys:m,trans:h}).then(v=>v.numFailures>0?Promise.reject(v.failures[0]):m.length<_?{failures:[],numFailures:0,lastResult:void 0}:f(h,{...p,lower:m[m.length-1],lowerOpen:!0},_)))}}}}})};function Yu(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let s=0,o=0;s<e.keys.length&&o<t.length;++s)Ke(e.keys[s],t[o])===0&&(r.push(n?qr(e.values[s]):e.values[s]),++o);return r.length===t.length?r:null}catch{return null}}const Fm={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const s=Yu(r.keys,r.trans._cache,r.cache==="clone");return s?B.resolve(s):n.getMany(r).then(o=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?qr(o):o},o))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function ha(t){return!("from"in t)}const It=function(t,e){if(!this){const n=new It;return t&&"d"in t&&He(n,t),n}He(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function jr(t,e,n){const r=Ke(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(ha(t))return He(t,{from:e,to:n,d:1});const s=t.l,o=t.r;if(Ke(n,t.from)<0)return s?jr(s,e,n):t.l={from:e,to:n,d:1,l:null,r:null},$c(t);if(Ke(e,t.to)>0)return o?jr(o,e,n):t.r={from:e,to:n,d:1,l:null,r:null},$c(t);Ke(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),Ke(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const i=!t.r;s&&!t.l&&Fs(t,s),o&&i&&Fs(t,o)}function Fs(t,e){ha(e)||function n(r,{from:s,to:o,l:i,r:a}){jr(r,s,o),i&&n(r,i),a&&n(r,a)}(t,e)}function Lm(t,e){const n=Ci(e);let r=n.next();if(r.done)return!1;let s=r.value;const o=Ci(t);let i=o.next(s.from),a=i.value;for(;!r.done&&!i.done;){if(Ke(a.from,s.to)<=0&&Ke(a.to,s.from)>=0)return!0;Ke(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(i=o.next(s.from)).value}return!1}function Ci(t){let e=ha(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&Ke(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||Ke(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function $c(t){var e,n;const r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const o=s==="r"?"l":"r",i={...t},a=t[s];t.from=a.from,t.to=a.to,t[s]=a[s],i[s]=a[o],t[o]=i,i.d=Bc(i)}t.d=Bc(t)}function Bc({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Gn(It.prototype,{add(t){return Fs(this,t),this},addKey(t){return jr(this,t,t),this},addKeys(t){return t.forEach(e=>jr(this,e,e)),this},[ni](){return Ci(this)}});const Km={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new It(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const s=t.table(r),{schema:o}=s,{primaryKey:i}=o,{extractKey:a,outbound:c}=i,u={...s,mutate:h=>{const p=h.trans,_=p.mutatedParts||(p.mutatedParts={}),m=R=>{const T=`idb://${e}/${r}/${R}`;return _[T]||(_[T]=new It)},v=m(""),y=m(":dels"),{type:b}=h;let[S,I]=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[[],h.values]:[];const O=h.trans._cache;return s.mutate(h).then(R=>{if(Be(S)){b!=="delete"&&(S=R.results),v.addKeys(S);const T=Yu(S,O);T||b==="add"||y.addKeys(S),(T||I)&&function(z,N,se,ee){function we(fe){const le=z(fe.name||"");function Xe(Y){return Y!=null?fe.extractKey(Y):null}const pe=Y=>fe.multiEntry&&Be(Y)?Y.forEach(te=>le.addKey(te)):le.addKey(Y);(se||ee).forEach((Y,te)=>{const Fe=se&&Xe(se[te]),tt=ee&&Xe(ee[te]);Ke(Fe,tt)!==0&&(Fe!=null&&pe(Fe),tt!=null&&pe(tt))})}N.indexes.forEach(we)}(m,o,T,I)}else if(S){const T={from:S.lower,to:S.upper};y.add(T),v.add(T)}else v.add(n),y.add(n),o.indexes.forEach(T=>m(T.name).add(n));return R})}},l=({query:{index:h,range:p}})=>{var _,m;return[h,new It((_=p.lower)!==null&&_!==void 0?_:t.MIN_KEY,(m=p.upper)!==null&&m!==void 0?m:t.MAX_KEY)]},f={get:h=>[i,new It(h.key)],getMany:h=>[i,new It().addKeys(h.keys)],count:l,query:l,openCursor:l};return xe(f).forEach(h=>{u[h]=function(p){const{subscr:_}=W;if(_){const m=I=>{const O=`idb://${e}/${r}/${I}`;return _[O]||(_[O]=new It)},v=m(""),y=m(":dels"),[b,S]=f[h](p);if(m(b.name||"").add(S),!b.isPrimaryKey){if(h!=="count"){const I=h==="query"&&c&&p.values&&s.query({...p,values:!1});return s[h].apply(this,arguments).then(O=>{if(h==="query"){if(c&&p.values)return I.then(({result:T})=>(v.addKeys(T),O));const R=p.values?O.result.map(a):O.result;p.values?v.addKeys(R):y.addKeys(R)}else if(h==="openCursor"){const R=O,T=p.values;return R&&Object.create(R,{key:{get:()=>(y.addKey(R.primaryKey),R.key)},primaryKey:{get(){const z=R.primaryKey;return y.addKey(z),z}},value:{get:()=>(T&&v.addKey(R.primaryKey),R.value)}})}return O})}y.add(n)}}return s[h].apply(this,arguments)}}),u}}}};class mn{constructor(e,n){this._middlewares={},this.verno=0;const r=mn.dependencies;this._options=n={addons:mn.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:s}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:he,dbReadyPromise:null,cancelOpen:he,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;o.dbReadyPromise=new B(a=>{o.dbReadyResolve=a}),o.openCanceller=new B((a,c)=>{o.cancelOpen=c}),this._state=o,this.name=e,this.on=wr(this,"populate","blocked","versionchange","close",{ready:[oa,he]}),this.on.ready.subscribe=Cu(this.on.ready.subscribe,a=>(c,u)=>{mn.vip(()=>{const l=this._state;if(l.openComplete)l.dbOpenError||B.resolve().then(c),u&&a(c);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(c),u&&a(c);else{a(c);const f=this;u||a(function h(){f.on.ready.unsubscribe(c),f.on.ready.unsubscribe(h)})}})}),this.Collection=(i=this,ir(xm.prototype,function(a,c){this.db=i;let u=qu,l=null;if(c)try{u=c()}catch(_){l=_}const f=a._ctx,h=f.table,p=h.hook.reading.fire;this._ctx={table:h,index:f.index,isPrimKey:!f.index||h.schema.primKey.keyPath&&f.index===h.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:l,or:f.or,valueMapper:p!==Or?p:null}})),this.Table=function(a){return ir(Em.prototype,function(c,u,l){this.db=a,this._tx=l,this.name=c,this.schema=u,this.hook=a._allTables[c]?a._allTables[c].hook:wr(null,{creating:[hm,he],reading:[fm,Or],updating:[pm,he],deleting:[dm,he]})})}(this),this.Transaction=function(a){return ir(Im.prototype,function(c,u,l,f,h){this.db=a,this.mode=c,this.storeNames=u,this.schema=l,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=wr(this,"complete","error","abort"),this.parent=h||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new B((p,_)=>{this._resolve=p,this._reject=_}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var _=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):_&&this.idbtrans&&this.idbtrans.abort(),ke(p)})})}(this),this.Version=function(a){return ir(Mm.prototype,function(c){this.db=a,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return ir(Vu.prototype,function(c,u,l){this.db=a,this._ctx={table:c,index:u===":id"?null:u,or:l};const f=a._deps.indexedDB;if(!f)throw new G.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(h,p)=>f.cmp(p,h),this._max=(h,p)=>f.cmp(h,p)>0?h:p,this._min=(h,p)=>f.cmp(h,p)<0?h:p,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=Ur(n.IDBKeyRange),this._createTransaction=(a,c,u,l)=>new this.Transaction(a,c,u,this._options.chromeTransactionDurability,l),this._fireOnBlocked=a=>{this.on("blocked").fire(a),vr.filter(c=>c.name===this.name&&c!==this&&!c._state.vcFired).map(c=>c.on("versionchange").fire(a))},this.use($m),this.use(Bm),this.use(Km),this.use(Fm),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new G.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new G.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter(s=>s._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(Om),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||W.letThrough||this._vip)?e():new B((n,r)=>{if(this._state.openComplete)return r(new G.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new G.DatabaseClosed);this.open().catch(he)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:s}){s&&this.unuse({stack:e,name:s});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:n,level:r??10,name:s}),o.sort((i,a)=>i.level-a.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>r?s.create!==r:!!n&&s.name!==n)),this}open(){return Um(this)}_close(){const e=this._state,n=vr.indexOf(this);if(n>=0&&vr.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new B(r=>{e.dbReadyResolve=r}),e.openCanceller=new B((r,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new G.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new B((r,s)=>{const o=()=>{this.close();var i=this._deps.indexedDB.deleteDatabase(this.name);i.onsuccess=ve(()=>{(function({indexedDB:a,IDBKeyRange:c},u){!ua(a)&&u!==co&&la(a,c).delete(u).catch(he)})(this._deps,this.name),r()}),i.onerror=yt(s),i.onblocked=this._fireOnBlocked};if(e)throw new G.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return xe(this._allTables).map(e=>this._allTables[e])}transaction(){const e=jm.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let s=W.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const o=e.indexOf("?")!==-1;let i,a;e=e.replace("!","").replace("?","");try{if(a=n.map(u=>{var l=u instanceof this.Table?u.name:u;if(typeof l!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return l}),e=="r"||e===Po)i=Po;else{if(e!="rw"&&e!=ko)throw new G.InvalidArgument("Invalid transaction mode: "+e);i=ko}if(s){if(s.mode===Po&&i===ko){if(!o)throw new G.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&a.forEach(u=>{if(s&&s.storeNames.indexOf(u)===-1){if(!o)throw new G.SubTransaction("Table "+u+" not included in parent transaction.");s=null}}),o&&s&&!s.active&&(s=null)}}catch(u){return s?s._promise(null,(l,f)=>{f(u)}):ke(u)}const c=Xu.bind(null,this,i,a,s,r);return s?s._promise(i,c,"lock"):W.trans?er(W.transless,()=>this._whenReady(c)):this._whenReady(c)}table(e){if(!et(this._allTables,e))throw new G.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Hm=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class qm{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:r})}[Hm](){return this}}function Qu(t,e){return xe(e).forEach(n=>{Fs(t[n]||(t[n]=new It),e[n])}),t}function Wm(t){let e,n=!1;const r=new qm(s=>{const o=na(t);let i=!1,a={},c={};const u={get closed(){return i},unsubscribe:()=>{i=!0,nn.storagemutated.unsubscribe(p)}};s.start&&s.start(u);let l=!1,f=!1;function h(){return xe(c).some(m=>a[m]&&Lm(a[m],c[m]))}const p=m=>{Qu(a,m),h()&&_()},_=()=>{if(l||i)return;a={};const m={},v=function(y){o&&Zn();const b=()=>en(t,{subscr:y,trans:null}),S=W.trans?er(W.transless,b):b();return o&&S.then(jt,jt),S}(m);f||(nn(Nr,p),f=!0),l=!0,Promise.resolve(v).then(y=>{n=!0,e=y,l=!1,i||(h()?_():(a={},c=m,s.next&&s.next(y)))},y=>{l=!1,n=!1,s.error&&s.error(y),u.unsubscribe()})};return _(),u});return r.hasValue=()=>n,r.getValue=()=>e,r}let Ei;try{Ei={indexedDB:me.indexedDB||me.mozIndexedDB||me.webkitIndexedDB||me.msIndexedDB,IDBKeyRange:me.IDBKeyRange||me.webkitIDBKeyRange}}catch{Ei={indexedDB:null,IDBKeyRange:null}}const on=mn;function Es(t){let e=Ot;try{Ot=!0,nn.storagemutated.fire(t)}finally{Ot=e}}Gn(on,{...ys,delete:t=>new on(t,{addons:[]}).delete(),exists:t=>new on(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return ua(e)?Promise.resolve(e.databases()).then(r=>r.map(s=>s.name).filter(s=>s!==co)):la(e,n).toCollection().primaryKeys()}(on.dependencies).then(t)}catch{return ke(new G.MissingAPI)}},defineClass:()=>function(t){He(this,t)},ignoreTransaction:t=>W.trans?er(W.transless,t):t(),vip:wi,async:function(t){return function(){try{var e=Si(t.apply(this,arguments));return e&&typeof e.then=="function"?e:B.resolve(e)}catch(n){return ke(n)}}},spawn:function(t,e,n){try{var r=Si(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:B.resolve(r)}catch(s){return ke(s)}},currentTransaction:{get:()=>W.trans||null},waitFor:function(t,e){const n=B.resolve(typeof t=="function"?on.ignoreTransaction(t):t).timeout(e||6e4);return W.trans?W.trans.waitFor(n):n},Promise:B,debug:{get:()=>Rt,set:t=>{Iu(t,t==="dexie"?()=>!0:Hu)}},derive:Fn,extend:He,props:Gn,override:Cu,Events:wr,on:nn,liveQuery:Wm,extendObservabilitySet:Qu,getByKeyPath:Ut,setByKeyPath:dt,delByKeyPath:function(t,e){typeof e=="string"?dt(t,e,void 0):"length"in e&&[].map.call(e,function(n){dt(t,n,void 0)})},shallowClone:Ru,deepClone:qr,getObjectDiff:fa,cmp:Ke,asap:Eu,minKey:di,addons:[],connections:vr,errnames:sa,dependencies:Ei,semVer:Oc,version:Oc.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),on.maxKey=Ur(on.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(nn(Nr,t=>{if(!Ot){let e;ao?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Jt,!0,!0,t)):e=new CustomEvent(Jt,{detail:t}),Ot=!0,dispatchEvent(e),Ot=!1}}),addEventListener(Jt,({detail:t})=>{Ot||Es(t)}));let Ot=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(Jt);typeof t.unref=="function"&&t.unref(),nn(Nr,e=>{Ot||t.postMessage(e)}),t.onmessage=e=>{e.data&&Es(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){nn(Nr,e=>{try{Ot||(typeof localStorage<"u"&&localStorage.setItem(Jt,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Jt,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===Jt){const n=JSON.parse(e.newValue);n&&Es(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===Jt&&Es(e.changedParts)})}B.rejectionMapper=function(t,e){if(!t||t instanceof Ln||t instanceof TypeError||t instanceof SyntaxError||!t.name||!kc[t.name])return t;var n=new kc[t.name](e||t.message,t);return"stack"in t&&Nt(n,"stack",{get:function(){return this.inner.stack}}),n},Iu(Rt,Hu);const nt={randomNumber(){return Math.random().toString(36).substr(2,16)},MessageType:{Text:0,Image:1,Audio:2},MessageStatus:{Waiting:0,Sent:1,Delivered:2,Seen:3},waitForActiveChat(){return new Promise((t,e)=>{if(Xn.currentRoute.value.name=="chat")var n=setInterval(()=>{K.readyActiveChat&&(t(),clearInterval(n))},1);else t()})},getFilePath(t){return t?t.startsWith("data")?t:K.apiUrl+"/uploads/"+t:""},getMimeType(t){return t.substring(t.lastIndexOf(".")+1)},getAttachment(t){return new Promise((e,n)=>{var r=t.value.files[0];if(r==null){e({});return}const s=new FileReader;s.onload=o=>{e({type:this.getAttachmentType(r.name),url:o.target.result})},s.readAsDataURL(r)})},getAttachmentType(t){var e=this.getMimeType(t);return["jpg","png"].includes(e.toLowerCase())?this.MessageType.Image:["mp4","m4a"].includes(e.toLowerCase())?this.MessageType.Audio:""},toNumber(t){return t=="null"||t=="undefined"?null:t?Number(t):null},isActiveChat(t,e){return e==K.activeChat?.groupId&&(e||t==K.activeChat?.userId)}};class Vm{db;Init(){this.db=new mn("myDatabase"),this.db.version(1).stores({messages:"id, senderUser, senderUserId, receiverUserId, groupId, type, text, status, attachmentUrl, sentDate",contacts:"++id, userId, groupId, name, imageUrl, lastMessageText, lastMessageStatus, unReadCount, updateDate"})}SaveMessages(e){return this.db.messages.bulkPut(e)}AddMessage(e){this.db.messages.add(e)}AddOrUpdateMessage(e){this.db.messages.put(e)}GetMessage(e){return this.db.messages.get(e).catch(n=>console.log(n))}GetMessages(e){return this.db.messages.filter(n=>n.groupId==e.groupId&&(e.groupId||n.senderUserId==e.userId||n.receiverUserId==e.userId)).toArray()}DeleteMessage(e){return this.db.messages.delete(e)}DeleteMessages(e){return this.GetMessages(e).then(n=>{this.db.messages.bulkDelete(n.map(r=>r.id))})}ClearMessages(){return this.db.messages.clear()}SaveContacts(e){return this.db.contacts.clear().then(n=>{this.db.contacts.bulkAdd(e)})}AddOrUpdateContact(e){return this.db.contacts.put({id:e.id,userId:e.userId,groupId:e.groupId,name:e.name,imageUrl:e.imageUrl,lastMessageText:e.lastMessageText,lastMessageStatus:e.lastMessageStatus,isLoaded:e.isLoaded,unReadCount:e.unReadCount,updateDate:e.updateDate})}DeleteContact(e){this.db.contacts.delete(e)}GetContactById(e){return this.db.contacts.get(e)}GetContact(e,n){return this.db.contacts.get({userId:Number(e),groupId:Number(n)})}GetContacts(){return this.db.contacts.toArray()}DeleteDatabase(){this.db.delete()}}const Se=new Vm;class zm{async SetActiveChat(e,n){if(K.activeChat=this.GetContact(nt.toNumber(e),nt.toNumber(n)),K.activeChat==null){var r=K.users.find(s=>s.id==e);r||(r=await an.GetUser(e)),K.activeChat={userId:e?Number(e):null,groupId:n?Number(n):null,name:r.name,imageUrl:r.imageUrl}}}async GetUserLastOnline(){if(!K.activeChat.groupId&&!K.activeChat.isOnline){var e=await an.GetUserLastOnline(K.activeChat.userId);K.activeChat.isOnline=e.isOnline,K.activeChat.lastOnline=Math.floor((new Date-new Date(e.lastOnline))/6e4)+" Minutes"}}async ReadActiveChat(){if(K.activeChat.id!=null&&(K.activeChat.unReadCount>0&&(K.activeChat.unReadCount=0,Se.AddOrUpdateContact(K.activeChat)),K.activeChat.userId)){var e=K.messages.filter(n=>[1,2].includes(n.status)&&n.senderUser.id!=Oe.loggedUser.id);e.forEach(n=>{n.status=nt.MessageStatus.Seen,Se.AddOrUpdateMessage({...n,senderUser:{...n.senderUser}})}),e.length&&an.ReadAllMessages(e.map(n=>n.id))}}async LoadActiveChatMessages(){K.activeChat.id!=null&&(K.activeChat.isLoaded?await this.LoadActiveChatMessagesFromDb():(await this.LoadActiveChatMessagesFromApi(),K.activeChat.isLoaded=!0,Se.AddOrUpdateContact(K.activeChat)))}async LoadActiveChatMessagesFromDb(){await Se.GetMessages(K.activeChat).then(e=>{K.messages=e})}async LoadActiveChatMessagesFromApi(e){var n=await an.GetMessages(K.activeChat.userId,K.activeChat.groupId,e),r=n.map(s=>({id:s.id,senderUser:s.senderUser,senderUserId:s.senderUser.id,receiverUserId:s.receiverUserId,groupId:s.groupId,type:s.type,text:s.text,status:s.status,attachmentUrl:s.attachmentUrl,sentDate:new Date(s.sentDate)}));e?K.messages=[...K.messages,...r]:(K.messages=r,await Se.SaveMessages(r))}async LoadContactsFromDb(){await Se.GetContacts().then(e=>{K.contacts=e})}async LoadContactsFromApi(){var e=(await an.GetContacts(Oe.loggedUser.id)).map(n=>({userId:n.userId,groupId:n.groupId,name:n.name,imageUrl:n.imageUrl,lastMessageText:n.lastMessageText,lastMessageStatus:n.lastMessageStatus,unReadCount:n.unReadCount,isLoaded:!1,updateDate:n.updateDate}));await Se.ClearMessages(),await Se.SaveContacts(e),K.contacts=await Se.GetContacts()}GetContact(e,n){return K.contacts.find(r=>r.userId==e&&r.groupId==n)}async UpdateOrCreateContactBySentMessage(e){var n=await this.UpdateOrCreateContact({userId:e.receiverUserId,groupId:e.groupId,name:K.activeChat.name,imageUrl:K.activeChat.imageUrl,lastMessageText:e.text,lastMessageStatus:nt.MessageStatus.Waiting});return K.activeChat=n,n}async UpdateOrCreateContactByReceivedMessage(e){var n=await this.UpdateOrCreateContact({userId:e.contact.userId,groupId:e.contact.groupId,name:e.contact.name,imageUrl:e.contact.imageUrl,lastMessageText:e.text,lastMessageStatus:null,unReadCount:1});return n.userId==K.activeChat?.userId&&n.groupId==K.activeChat?.groupId&&(K.activeChat=n),n.id!=K.activeChat?.id&&n.unReadCount++,n.isTyping=!1,n}async UpdateOrCreateContact(e){var n=this.GetContact(e.userId,e.groupId);return n==null&&(n={userId:e.userId,groupId:e.groupId,unReadCount:e.unReadCount,isLoaded:!0},n.id=await Se.AddOrUpdateContact(n),K.contacts=[...K.contacts,n]),n.name=e.name,n.imageUrl=e.imageUrl,n.lastMessageText=e.lastMessageText,n.lastMessageStatus=e.lastMessageStatus,n.updateDate=new Date,Se.AddOrUpdateContact(n),n}AddSentMessage(e){K.messages=[...K.messages,e],Se.AddOrUpdateMessage(e)}AddReceivedMessage(e){var n={id:e.id,senderUser:e.senderUser,senderUserId:e.senderUser.id,receiverUserId:Oe.loggedUser.id,groupId:e.contact.groupId,type:e.type,text:e.text,status:e.status,attachmentUrl:e.attachmentUrl,sentDate:new Date(e.sentDate)};nt.isActiveChat(n.senderUserId,n.groupId)&&(K.messages=[...K.messages.filter(r=>r.id!=n.id),n]),Se.AddOrUpdateMessage(n)}async DeleteContact(e,n){var r=K.contacts.find(s=>s.userId==e&&s.groupId==n);await an.DeleteContact(e,n),await Se.DeleteContact(r.id),await Se.DeleteMessages(r),K.contacts=K.contacts.filter(s=>s.id!=r.id)}SetTyping(e,n){var r=this.GetContact(e);r&&(r.isTyping=n)}}const bt=new zm;class _n extends Error{constructor(e,n){const r=new.target.prototype;super(`${e}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class da extends Error{constructor(e="A timeout occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class ft extends Error{constructor(e="An abort occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class Gm extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class Jm extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class Xm extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class Fc extends Error{constructor(e){const n=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class Ym extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.innerErrors=n,this.__proto__=r}}class Zu{constructor(e,n,r){this.statusCode=e,this.statusText=n,this.content=r}}class lo{get(e,n){return this.send({...n,method:"GET",url:e})}post(e,n){return this.send({...n,method:"POST",url:e})}delete(e,n){return this.send({...n,method:"DELETE",url:e})}getCookieString(e){return""}}var C;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(C||(C={}));class $r{constructor(){}log(e,n){}}$r.instance=new $r;const Qm="8.0.0";class Ee{static isRequired(e,n){if(e==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(e,n){if(!e||e.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(e,n,r){if(!(e in n))throw new Error(`Unknown ${r} value: ${e}.`)}}class Ce{static get isBrowser(){return!Ce.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Ce.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Ce.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Br(t,e){let n="";return Sn(t)?(n=`Binary data of length ${t.byteLength}`,e&&(n+=`. Content: '${Zm(t)}'`)):typeof t=="string"&&(n=`String data of length ${t.length}`,e&&(n+=`. Content: '${t}'`)),n}function Zm(t){const e=new Uint8Array(t);let n="";return e.forEach(r=>{const s=r<16?"0":"";n+=`0x${s}${r.toString(16)} `}),n.substr(0,n.length-1)}function Sn(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function ef(t,e,n,r,s,o){const i={},[a,c]=Jn();i[a]=c,t.log(C.Trace,`(${e} transport) sending data. ${Br(s,o.logMessageContent)}.`);const u=Sn(s)?"arraybuffer":"text",l=await n.post(r,{content:s,headers:{...i,...o.headers},responseType:u,timeout:o.timeout,withCredentials:o.withCredentials});t.log(C.Trace,`(${e} transport) request complete. Response status: ${l.statusCode}.`)}function e_(t){return t===void 0?new Ls(C.Information):t===null?$r.instance:t.log!==void 0?t:new Ls(t)}class t_{constructor(e,n){this._subject=e,this._observer=n}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class Ls{constructor(e){this._minLevel=e,this.out=console}log(e,n){if(e>=this._minLevel){const r=`[${new Date().toISOString()}] ${C[e]}: ${n}`;switch(e){case C.Critical:case C.Error:this.out.error(r);break;case C.Warning:this.out.warn(r);break;case C.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function Jn(){let t="X-SignalR-User-Agent";return Ce.isNode&&(t="User-Agent"),[t,n_(Qm,r_(),o_(),s_())]}function n_(t,e,n,r){let s="Microsoft SignalR/";const o=t.split(".");return s+=`${o[0]}.${o[1]}`,s+=` (${t}; `,e&&e!==""?s+=`${e}; `:s+="Unknown OS; ",s+=`${n}`,r?s+=`; ${r}`:s+="; Unknown Runtime Version",s+=")",s}function r_(){if(Ce.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function s_(){if(Ce.isNode)return process.versions.node}function o_(){return Ce.isNode?"NodeJS":"Browser"}function Lc(t){return t.stack?t.stack:t.message?t.message:`${t}`}function i_(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}function a_(t){return typeof fetch>"u"||Ce.isNode?(t._jar=new(require("tough-cookie")).CookieJar,typeof fetch>"u"?t._fetchType=require("node-fetch"):t._fetchType=fetch,t._fetchType=require("fetch-cookie")(t._fetchType,t._jar),!0):!1}function c_(t){return typeof AbortController>"u"?(t._abortControllerType=require("abort-controller"),!0):!1}function l_(){return require("ws")}function u_(){return require("eventsource")}class f_ extends lo{constructor(e){super(),this._logger=e;const n={_fetchType:void 0,_jar:void 0};a_(n)?(this._fetchType=n._fetchType,this._jar=n._jar):this._fetchType=fetch.bind(i_()),this._abortControllerType=AbortController;const r={_abortControllerType:this._abortControllerType};c_(r)&&(this._abortControllerType=r._abortControllerType)}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new ft;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),r=new ft});let s=null;if(e.timeout){const c=e.timeout;s=setTimeout(()=>{n.abort(),this._logger.log(C.Warning,"Timeout from HTTP request."),r=new da},c)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},Sn(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(c){throw r||(this._logger.log(C.Warning,`Error from HTTP request. ${c}.`),c)}finally{s&&clearTimeout(s),e.abortSignal&&(e.abortSignal.onabort=null)}if(!o.ok){const c=await Kc(o,"text");throw new _n(c||o.statusText,o.status)}const a=await Kc(o,e.responseType);return new Zu(o.status,o.statusText,a)}getCookieString(e){let n="";return Ce.isNode&&this._jar&&this._jar.getCookies(e,(r,s)=>n=s.join("; ")),n}}function Kc(t,e){let n;switch(e){case"arraybuffer":n=t.arrayBuffer();break;case"text":n=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=t.text();break}return n}class h_ extends lo{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new ft):e.method?e.url?new Promise((n,r)=>{const s=new XMLHttpRequest;s.open(e.method,e.url,!0),s.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(Sn(e.content)?s.setRequestHeader("Content-Type","application/octet-stream"):s.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=e.headers;o&&Object.keys(o).forEach(i=>{s.setRequestHeader(i,o[i])}),e.responseType&&(s.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{s.abort(),r(new ft)}),e.timeout&&(s.timeout=e.timeout),s.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),s.status>=200&&s.status<300?n(new Zu(s.status,s.statusText,s.response||s.responseText)):r(new _n(s.response||s.responseText||s.statusText,s.status))},s.onerror=()=>{this._logger.log(C.Warning,`Error from HTTP request. ${s.status}: ${s.statusText}.`),r(new _n(s.statusText,s.status))},s.ontimeout=()=>{this._logger.log(C.Warning,"Timeout from HTTP request."),r(new da)},s.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class d_ extends lo{constructor(e){if(super(),typeof fetch<"u"||Ce.isNode)this._httpClient=new f_(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new h_(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new ft):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class Ze{static write(e){return`${e}${Ze.RecordSeparator}`}static parse(e){if(e[e.length-1]!==Ze.RecordSeparator)throw new Error("Message is incomplete.");const n=e.split(Ze.RecordSeparator);return n.pop(),n}}Ze.RecordSeparatorCode=30;Ze.RecordSeparator=String.fromCharCode(Ze.RecordSeparatorCode);class p_{writeHandshakeRequest(e){return Ze.write(JSON.stringify(e))}parseHandshakeResponse(e){let n,r;if(Sn(e)){const a=new Uint8Array(e),c=a.indexOf(Ze.RecordSeparatorCode);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,u))),r=a.byteLength>u?a.slice(u).buffer:null}else{const a=e,c=a.indexOf(Ze.RecordSeparator);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;n=a.substring(0,u),r=a.length>u?a.substring(u):null}const s=Ze.parse(n),o=JSON.parse(s[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[r,o]}}var Q;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(Q||(Q={}));class g_{constructor(){this.observers=[]}next(e){for(const n of this.observers)n.next(e)}error(e){for(const n of this.observers)n.error&&n.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new t_(this,e)}}class m_{constructor(e,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=n,this._bufferSize=r}async _send(e){const n=this._protocol.writeMessage(e);let r=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let s=()=>{},o=()=>{};Sn(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((i,a)=>{s=i,o=a})),this._messages.push(new __(n,this._totalMessageCount,s,o))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(e){let n=-1;for(let r=0;r<this._messages.length;r++){const s=this._messages[r];if(s._id<=e.sequenceId)n=r,Sn(s._message)?this._bufferedByteCount-=s._message.byteLength:this._bufferedByteCount-=s._message.length,s._resolver();else if(this._bufferedByteCount<this._bufferSize)s._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==Q.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:Q.Sequence,sequenceId:e}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(e)}_isInvocationMessage(e){switch(e.type){case Q.Invocation:case Q.StreamItem:case Q.Completion:case Q.StreamInvocation:case Q.CancelInvocation:return!0;case Q.Close:case Q.Sequence:case Q.Ping:case Q.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:Q.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class __{constructor(e,n,r,s){this._message=e,this._id=n,this._resolver=r,this._rejector=s}}const y_=30*1e3,b_=15*1e3,v_=1e5;var be;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(be||(be={}));class pa{static create(e,n,r,s,o,i,a){return new pa(e,n,r,s,o,i,a)}constructor(e,n,r,s,o,i,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(C.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Ee.isRequired(e,"connection"),Ee.isRequired(n,"logger"),Ee.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=o??y_,this.keepAliveIntervalInMilliseconds=i??b_,this._statefulReconnectBufferSize=a??v_,this._logger=n,this._protocol=r,this.connection=e,this._reconnectPolicy=s,this._handshakeProtocol=new p_,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=be.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Q.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==be.Disconnected&&this._connectionState!==be.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==be.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=be.Connecting,this._logger.log(C.Debug,"Starting HubConnection.");try{await this._startInternal(),Ce.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=be.Connected,this._connectionStarted=!0,this._logger.log(C.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=be.Disconnected,this._logger.log(C.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(C.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(C.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new m_(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(C.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===be.Disconnected)return this._logger.log(C.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===be.Disconnecting)return this._logger.log(C.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=be.Disconnecting,this._logger.log(C.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(C.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===be.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new ft("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...n){const[r,s]=this._replaceStreamingParams(n),o=this._createStreamInvocation(e,n,s);let i;const a=new g_;return a.cancelCallback=()=>{const c=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],i.then(()=>this._sendWithProtocol(c))},this._callbacks[o.invocationId]=(c,u)=>{if(u){a.error(u);return}else c&&(c.type===Q.Completion?c.error?a.error(new Error(c.error)):a.complete():a.next(c.item))},i=this._sendWithProtocol(o).catch(c=>{a.error(c),delete this._callbacks[o.invocationId]}),this._launchStreams(r,i),a}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...n){const[r,s]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(e,n,!0,s));return this._launchStreams(r,o),o}invoke(e,...n){const[r,s]=this._replaceStreamingParams(n),o=this._createInvocation(e,n,!1,s);return new Promise((a,c)=>{this._callbacks[o.invocationId]=(l,f)=>{if(f){c(f);return}else l&&(l.type===Q.Completion?l.error?c(new Error(l.error)):a(l.result):c(new Error(`Unexpected message type: ${l.type}`)))};const u=this._sendWithProtocol(o).catch(l=>{c(l),delete this._callbacks[o.invocationId]});this._launchStreams(r,u)})}on(e,n){!e||!n||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(n)===-1&&this._methods[e].push(n))}off(e,n){if(!e)return;e=e.toLowerCase();const r=this._methods[e];if(r)if(n){const s=r.indexOf(n);s!==-1&&(r.splice(s,1),r.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case Q.Invocation:this._invokeClientMethod(r);break;case Q.StreamItem:case Q.Completion:{const s=this._callbacks[r.invocationId];if(s){r.type===Q.Completion&&delete this._callbacks[r.invocationId];try{s(r)}catch(o){this._logger.log(C.Error,`Stream callback threw error: ${Lc(o)}`)}}break}case Q.Ping:break;case Q.Close:{this._logger.log(C.Information,"Close message received from server.");const s=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(s):this._stopPromise=this._stopInternal(s);break}case Q.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case Q.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(C.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(s){const o="Error parsing handshake response: "+s;this._logger.log(C.Error,o);const i=new Error(o);throw this._handshakeRejecter(i),i}if(n.error){const s="Server returned handshake error: "+n.error;this._logger.log(C.Error,s);const o=new Error(s);throw this._handshakeRejecter(o),o}else this._logger.log(C.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===be.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const n=e.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(C.Warning,`No client method with the name '${n}' found.`),e.invocationId&&(this._logger.log(C.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const s=r.slice(),o=!!e.invocationId;let i,a,c;for(const u of s)try{const l=i;i=await u.apply(this,e.arguments),o&&i&&l&&(this._logger.log(C.Error,`Multiple results provided for '${n}'. Sending error to server.`),c=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),a=void 0}catch(l){a=l,this._logger.log(C.Error,`A callback for the method '${n}' threw error '${l}'.`)}c?await this._sendWithProtocol(c):o?(a?c=this._createCompletionMessage(e.invocationId,`${a}`,null):i!==void 0?c=this._createCompletionMessage(e.invocationId,null,i):(this._logger.log(C.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),c=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):i&&this._logger.log(C.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(C.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new ft("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===be.Disconnecting?this._completeClose(e):this._connectionState===be.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===be.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=be.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),Ce.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[e]))}catch(n){this._logger.log(C.Error,`An onclose callback called with error '${e}' threw error '${n}'.`)}}}async _reconnect(e){const n=Date.now();let r=0,s=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(r++,0,s);if(o===null){this._logger.log(C.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=be.Reconnecting,e?this._logger.log(C.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(C.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(i=>i.apply(this,[e]))}catch(i){this._logger.log(C.Error,`An onreconnecting callback called with error '${e}' threw error '${i}'.`)}if(this._connectionState!==be.Reconnecting){this._logger.log(C.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(C.Information,`Reconnect attempt number ${r} will start in ${o} ms.`),await new Promise(i=>{this._reconnectDelayHandle=setTimeout(i,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==be.Reconnecting){this._logger.log(C.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=be.Connected,this._logger.log(C.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(i=>i.apply(this,[this.connection.connectionId]))}catch(i){this._logger.log(C.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${i}'.`)}return}catch(i){if(this._logger.log(C.Information,`Reconnect attempt failed because of error '${i}'.`),this._connectionState!==be.Reconnecting){this._logger.log(C.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===be.Disconnecting&&this._completeClose();return}s=i instanceof Error?i:new Error(i.toString()),o=this._getNextRetryDelay(r++,Date.now()-n,s)}}this._logger.log(C.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:e,retryReason:r})}catch(s){return this._logger.log(C.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${n}) threw error '${s}'.`),null}}_cancelCallbacksWithError(e){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const s=n[r];try{s(null,e)}catch(o){this._logger.log(C.Error,`Stream 'error' callback called with '${e}' threw error: ${Lc(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,n,r,s){if(r)return s.length!==0?{arguments:n,streamIds:s,target:e,type:Q.Invocation}:{arguments:n,target:e,type:Q.Invocation};{const o=this._invocationId;return this._invocationId++,s.length!==0?{arguments:n,invocationId:o.toString(),streamIds:s,target:e,type:Q.Invocation}:{arguments:n,invocationId:o.toString(),target:e,type:Q.Invocation}}}_launchStreams(e,n){if(e.length!==0){n||(n=Promise.resolve());for(const r in e)e[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:s=>{let o;s instanceof Error?o=s.message:s&&s.toString?o=s.toString():o="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,o)))},next:s=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,s)))}})}}_replaceStreamingParams(e){const n=[],r=[];for(let s=0;s<e.length;s++){const o=e[s];if(this._isObservable(o)){const i=this._invocationId;this._invocationId++,n[i]=o,r.push(i.toString()),e.splice(s,1)}}return[n,r]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,n,r){const s=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:s.toString(),streamIds:r,target:e,type:Q.StreamInvocation}:{arguments:n,invocationId:s.toString(),target:e,type:Q.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:Q.CancelInvocation}}_createStreamItemMessage(e,n){return{invocationId:e,item:n,type:Q.StreamItem}}_createCompletionMessage(e,n,r){return n?{error:n,invocationId:e,type:Q.Completion}:{invocationId:e,result:r,type:Q.Completion}}_createCloseMessage(){return{type:Q.Close}}}const w_=[0,2e3,1e4,3e4,null];class Hc{constructor(e){this._retryDelays=e!==void 0?[...e,null]:w_}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class yn{}yn.Authorization="Authorization";yn.Cookie="Cookie";class S_ extends lo{constructor(e,n){super(),this._innerClient=e,this._accessTokenFactory=n}async send(e){let n=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const r=await this._innerClient.send(e);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):r}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[yn.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[yn.Authorization]&&delete e.headers[yn.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var Pe;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(Pe||(Pe={}));var Ne;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(Ne||(Ne={}));let C_=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class qc{get pollAborted(){return this._pollAbort.aborted}constructor(e,n,r){this._httpClient=e,this._logger=n,this._pollAbort=new C_,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,n){if(Ee.isRequired(e,"url"),Ee.isRequired(n,"transferFormat"),Ee.isIn(n,Ne,"transferFormat"),this._url=e,this._logger.log(C.Trace,"(LongPolling transport) Connecting."),n===Ne.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,s]=Jn(),o={[r]:s,...this._options.headers},i={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};n===Ne.Binary&&(i.responseType="arraybuffer");const a=`${e}&_=${Date.now()}`;this._logger.log(C.Trace,`(LongPolling transport) polling: ${a}.`);const c=await this._httpClient.get(a,i);c.statusCode!==200?(this._logger.log(C.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new _n(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,i)}async _poll(e,n){try{for(;this._running;)try{const r=`${e}&_=${Date.now()}`;this._logger.log(C.Trace,`(LongPolling transport) polling: ${r}.`);const s=await this._httpClient.get(r,n);s.statusCode===204?(this._logger.log(C.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):s.statusCode!==200?(this._logger.log(C.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new _n(s.statusText||"",s.statusCode),this._running=!1):s.content?(this._logger.log(C.Trace,`(LongPolling transport) data received. ${Br(s.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(s.content)):this._logger.log(C.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof da?this._logger.log(C.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(C.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(C.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?ef(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(C.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(C.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[n,r]=Jn();e[n]=r;const s={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,s)}catch(i){o=i}o?o instanceof _n&&(o.statusCode===404?this._logger.log(C.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(C.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(C.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(C.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(C.Trace,e),this.onclose(this._closeError)}}}class E_{constructor(e,n,r,s){this._httpClient=e,this._accessToken=n,this._logger=r,this._options=s,this.onreceive=null,this.onclose=null}async connect(e,n){return Ee.isRequired(e,"url"),Ee.isRequired(n,"transferFormat"),Ee.isIn(n,Ne,"transferFormat"),this._logger.log(C.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,s)=>{let o=!1;if(n!==Ne.Text){s(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let i;if(Ce.isBrowser||Ce.isWebWorker)i=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const a=this._httpClient.getCookieString(e),c={};c.Cookie=a;const[u,l]=Jn();c[u]=l,i=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{i.onmessage=a=>{if(this.onreceive)try{this._logger.log(C.Trace,`(SSE transport) data received. ${Br(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(c){this._close(c);return}},i.onerror=a=>{o?this._close():s(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},i.onopen=()=>{this._logger.log(C.Information,`SSE connected to ${this._url}`),this._eventSource=i,o=!0,r()}}catch(a){s(a);return}})}async send(e){return this._eventSource?ef(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class x_{constructor(e,n,r,s,o,i){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=s,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=i}async connect(e,n){Ee.isRequired(e,"url"),Ee.isRequired(n,"transferFormat"),Ee.isIn(n,Ne,"transferFormat"),this._logger.log(C.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((s,o)=>{e=e.replace(/^http/,"ws");let i;const a=this._httpClient.getCookieString(e);let c=!1;if(Ce.isNode||Ce.isReactNative){const u={},[l,f]=Jn();u[l]=f,r&&(u[yn.Authorization]=`Bearer ${r}`),a&&(u[yn.Cookie]=a),i=new this._webSocketConstructor(e,void 0,{headers:{...u,...this._headers}})}else r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);i||(i=new this._webSocketConstructor(e)),n===Ne.Binary&&(i.binaryType="arraybuffer"),i.onopen=u=>{this._logger.log(C.Information,`WebSocket connected to ${e}.`),this._webSocket=i,c=!0,s()},i.onerror=u=>{let l=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?l=u.error:l="There was an error with the transport",this._logger.log(C.Information,`(WebSockets transport) ${l}.`)},i.onmessage=u=>{if(this._logger.log(C.Trace,`(WebSockets transport) data received. ${Br(u.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(u.data)}catch(l){this._close(l);return}},i.onclose=u=>{if(c)this._close(u);else{let l=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?l=u.error:l="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(l))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(C.Trace,`(WebSockets transport) sending data. ${Br(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(C.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}}const Wc=100;class R_{constructor(e,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Ee.isRequired(e,"url"),this._logger=e_(n.logger),this.baseUrl=this._resolveUrl(e),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,s=null;Ce.isNode&&typeof require<"u"&&(r=l_(),s=u_()),!Ce.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:Ce.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!Ce.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:Ce.isNode&&!n.EventSource&&typeof s<"u"&&(n.EventSource=s),this._httpClient=new S_(n.httpClient||new d_(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(e){if(e=e||Ne.Binary,Ee.isIn(e,Ne,"transferFormat"),this._logger.log(C.Debug,`Starting connection with transfer format '${Ne[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(C.Error,n),await this._stopPromise,Promise.reject(new ft(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(C.Error,n),Promise.reject(new ft(n))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new ga(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(C.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(C.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(C.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(C.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Pe.WebSockets)this.transport=this._constructTransport(Pe.WebSockets),await this._startTransport(n,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,s=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new ft("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const o=r.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}s++}while(r.url&&s<Wc);if(s===Wc&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,e)}this.transport instanceof qc&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(C.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(C.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(e){const n={},[r,s]=Jn();n[r]=s;const o=this._resolveNegotiateUrl(e);this._logger.log(C.Debug,`Sending negotiation request: ${o}.`);try{const i=await this._httpClient.post(o,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(i.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${i.statusCode}'`));const a=JSON.parse(i.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Fc("Client didn't negotiate Stateful Reconnect but the server did.")):a}catch(i){let a="Failed to complete negotiation with the server: "+i;return i instanceof _n&&i.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(C.Error,a),Promise.reject(new Fc(a))}}_createConnectUrl(e,n){return n?e+(e.indexOf("?")===-1?"?":"&")+`id=${n}`:e}async _createTransport(e,n,r,s){let o=this._createConnectUrl(e,r.connectionToken);if(this._isITransport(n)){this._logger.log(C.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(o,s),this.connectionId=r.connectionId;return}const i=[],a=r.availableTransports||[];let c=r;for(const u of a){const l=this._resolveTransportOrError(u,n,s,c?.useStatefulReconnect===!0);if(l instanceof Error)i.push(`${u.transport} failed:`),i.push(l);else if(this._isITransport(l)){if(this.transport=l,!c){try{c=await this._getNegotiationResponse(e)}catch(f){return Promise.reject(f)}o=this._createConnectUrl(e,c.connectionToken)}try{await this._startTransport(o,s),this.connectionId=c.connectionId;return}catch(f){if(this._logger.log(C.Error,`Failed to start the transport '${u.transport}': ${f}`),c=void 0,i.push(new Xm(`${u.transport} failed: ${f}`,Pe[u.transport])),this._connectionState!=="Connecting"){const h="Failed to select transport before stop() was called.";return this._logger.log(C.Debug,h),Promise.reject(new ft(h))}}}}return i.length>0?Promise.reject(new Ym(`Unable to connect to the server with any of the available transports. ${i.join(" ")}`,i)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case Pe.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new x_(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Pe.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new E_(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Pe.LongPolling:return new qc(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let s=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,n),await this.features.resend()}catch{s=!0}else{this._stopConnection(r);return}s&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(e,n)}_resolveTransportOrError(e,n,r,s){const o=Pe[e.transport];if(o==null)return this._logger.log(C.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(P_(n,o))if(e.transferFormats.map(a=>Ne[a]).indexOf(r)>=0){if(o===Pe.WebSockets&&!this._options.WebSocket||o===Pe.ServerSentEvents&&!this._options.EventSource)return this._logger.log(C.Debug,`Skipping transport '${Pe[o]}' because it is not supported in your environment.'`),new Gm(`'${Pe[o]}' is not supported in your environment.`,o);this._logger.log(C.Debug,`Selecting transport '${Pe[o]}'.`);try{return this.features.reconnect=o===Pe.WebSockets?s:void 0,this._constructTransport(o)}catch(a){return a}}else return this._logger.log(C.Debug,`Skipping transport '${Pe[o]}' because it does not support the requested transfer format '${Ne[r]}'.`),new Error(`'${Pe[o]}' does not support ${Ne[r]}.`);else return this._logger.log(C.Debug,`Skipping transport '${Pe[o]}' because it was disabled by the client.`),new Jm(`'${Pe[o]}' is disabled by the client.`,o)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(C.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(C.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(C.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(C.Error,`Connection disconnected with error '${e}'.`):this._logger.log(C.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(C.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this._logger.log(C.Error,`HttpConnection.onclose(${e}) threw error '${n}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!Ce.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const n=window.document.createElement("a");return n.href=e,this._logger.log(C.Information,`Normalizing '${e}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(e){const n=new URL(e);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function P_(t,e){return!t||(e&t)!==0}class ga{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new as,this._transportResult=new as,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new as),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new as;const e=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):ga._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),e.resolve()}catch(r){e.reject(r)}}}static _concatBuffers(e){const n=e.map(o=>o.byteLength).reduce((o,i)=>o+i),r=new Uint8Array(n);let s=0;for(const o of e)r.set(new Uint8Array(o),s),s+=o.byteLength;return r.buffer}}class as{constructor(){this.promise=new Promise((e,n)=>[this._resolver,this._rejecter]=[e,n])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}const k_="json";class I_{constructor(){this.name=k_,this.version=2,this.transferFormat=Ne.Text}parseMessages(e,n){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];n===null&&(n=$r.instance);const r=Ze.parse(e),s=[];for(const o of r){const i=JSON.parse(o);if(typeof i.type!="number")throw new Error("Invalid payload.");switch(i.type){case Q.Invocation:this._isInvocationMessage(i);break;case Q.StreamItem:this._isStreamItemMessage(i);break;case Q.Completion:this._isCompletionMessage(i);break;case Q.Ping:break;case Q.Close:break;case Q.Ack:this._isAckMessage(i);break;case Q.Sequence:this._isSequenceMessage(i);break;default:n.log(C.Information,"Unknown message type '"+i.type+"' ignored.");continue}s.push(i)}return s}writeMessage(e){return Ze.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,n){if(typeof e!="string"||e==="")throw new Error(n)}}const T_={trace:C.Trace,debug:C.Debug,info:C.Information,information:C.Information,warn:C.Warning,warning:C.Warning,error:C.Error,critical:C.Critical,none:C.None};function A_(t){const e=T_[t.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${t}`)}class O_{configureLogging(e){if(Ee.isRequired(e,"logging"),D_(e))this.logger=e;else if(typeof e=="string"){const n=A_(e);this.logger=new Ls(n)}else this.logger=new Ls(e);return this}withUrl(e,n){return Ee.isRequired(e,"url"),Ee.isNotEmpty(e,"url"),this.url=e,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(e){return Ee.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new Hc(e):this.reconnectPolicy=e:this.reconnectPolicy=new Hc,this}withServerTimeout(e){return Ee.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return Ee.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e?.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new R_(this.url,e);return pa.create(n,this.logger||$r.instance,this.protocol||new I_,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function D_(t){return t.log!==void 0}class M_{Connection=null;Queue=Promise.resolve();Connect(){this.Connection=new O_().withUrl(K.apiUrl+"/messagingHub",{accessTokenFactory:()=>Oe.accessToken}).withAutomaticReconnect().build(),this.Connection.on("onevent",e=>{this.Queue=this.Queue.finally(async()=>await this.OnEvent(e))}),this.Connection.start().then(e=>{K.isConnected=!0}).catch(e=>{Xn.push({path:"/login"})}),this.Connection.onclose(()=>{K.isConnected=!1})}Disconnect(){this.Connection?.stop(),this.Connection=null}SendMessage(e){var n={id:nt.randomNumber(),senderUser:{id:Oe.loggedUser.id},receiverUserId:e.userId,groupId:e.groupId,type:e.type,text:e.text,status:nt.MessageStatus.Waiting,attachmentUrl:null,sentDate:new Date};bt.AddSentMessage(n),bt.UpdateOrCreateContactBySentMessage(n);var r={clientId:n.id,receiverUserId:nt.toNumber(e.userId),groupId:e.groupId,type:e.type,text:e.text,attachmentUrl:e.attachmentUrl,sentDate:new Date().toLocaleString()};this.Connection.invoke("OnMessage",r)}SendMessageStatus(e,n){this.Connection.invoke("OnMessageStatus",{messageId:e,status:n})}SendEventDelivered(e){this.Connection.invoke("OnEventDelivered",{eventId:e})}SendTyping(){this.Connection.invoke("OnTyping",{senderUserId:Oe.loggedUser.id,receiverUserId:K.activeChat.userId,groupId:K.activeChat.groupId})}async OnMessage(e){await nt.waitForActiveChat(),await bt.UpdateOrCreateContactByReceivedMessage(e),nt.isActiveChat(e.senderUser.id,e.contact.groupId)?e.status=nt.MessageStatus.Seen:e.status=nt.MessageStatus.Delivered,e.contact.userId&&this.SendMessageStatus(e.id,e.status),bt.AddReceivedMessage(e)}async OnMessageStatus(e){var n,r;if(e.status==1?(r=await Se.GetMessage(e.clientId),r.id=e.messageId,r.attachmentUrl=e.attachmentUrl,await Se.DeleteMessage(e.clientId)):r=await Se.GetMessage(e.messageId),r!=null){n=bt.GetContact(r.receiverUserId,r.groupId),n.lastMessageStatus=e.status,Se.AddOrUpdateContact(n),r.status=e.status,Se.AddOrUpdateMessage(r);var s=K.messages.find(o=>o.id==e.messageId||o.id==e.clientId);s&&(s.id=e.messageId,s.status=e.status,e.attachmentUrl&&(s.attachmentUrl=e.attachmentUrl))}}OnLogoutEvent(e){e.newDeviceId!=Oe.accessToken&&tf.logout()}OnUserStatus(e){var n=K.contacts.find(r=>r.userId==e.userId);n.isOnline=e.isOnline,n.lastOnline="Just Now"}OnTyping(e){bt.SetTyping(e.senderUserId,!0),clearTimeout(this.typingInt),this.typingInt=setTimeout(()=>bt.SetTyping(e.senderUserId,!1),5e3)}async OnEvent(e){var n=JSON.parse(e.data);e.type==0?await this.OnMessage(n):e.type==1?await this.OnMessageStatus(n):e.type==2?this.OnLogoutEvent(n):e.type==3?this.OnUserStatus(n):e.type==4&&this.OnTyping(n),e.id&&this.SendEventDelivered(e.id)}}const xi=new M_,tf={login:(t,e)=>Ve.post("/auth",{email:t,password:e}).then(n=>{n.status==200?(Oe.accessToken=n.data.token,Oe.loggedUser.id=n.data.userId,Oe.loggedUser.name=n.data.userName,Oe.loggedUser.imageUrl=n.data.userImageUrl,Se.Init(),bt.LoadContactsFromApi().then(r=>{xi.Connect()}),Xn.push({path:"/community"})):alert("User Not Found")}).catch(n=>{console.log(n)}),logout:()=>{Xn.push({path:"/login"}),Oe.accessToken=null,Oe.loggedUser={id:null,name:null,imageUrl:null},Se.DeleteDatabase(),xi.Disconnect()},register:()=>{}},N_={__name:"Layout",setup(t){function e(){bt.LoadContactsFromApi()}function n(){tf.logout()}return(r,s)=>($n(),hs(rt,null,[Tt("header",null,[Tt("nav",null,[Ae(ot(ps),{to:"/community"},{default:fr(()=>[qt("Community")]),_:1}),qt("  "),Ae(ot(ps),{to:"/chatlist"},{default:fr(()=>[qt("Chat List")]),_:1}),qt("  "),Ae(ot(ps),{to:"/settings"},{default:fr(()=>[qt("Settings")]),_:1}),qt("  "),Tt("input",{type:"button",value:"Refresh Conversations",onClick:e}),Tt("input",{type:"button",value:"Logout",onClick:n})])]),Tt("main",null,[Ae(ot(Gi))])],64))}},nf=Ip({history:ip("/"),routes:[{path:"/login",component:()=>sr(()=>import("./Login-CEcn7F47.js"),__vite__mapDeps([]))},{path:"/",redirect:"/chatlist",component:N_,children:[{path:"/community",name:"community",component:em},{path:"/chatlist",name:"chatlist",component:()=>sr(()=>import("./ChatList-COsRPsTe.js"),__vite__mapDeps([]))},{path:"/chat",name:"chat",component:()=>sr(()=>import("./Chat-D_SkO6M8.js"),__vite__mapDeps([]))},{path:"/settings",name:"settings",component:()=>sr(()=>import("./Settings-Dm7idxKc.js"),__vite__mapDeps([]))},{path:"/editgroup",name:"editgroup",component:()=>sr(()=>import("./EditGroup-DJEktSei.js"),__vite__mapDeps([]))}]},{path:"/index.html",redirect:"/chatlist"}]});nf.beforeEach((t,e,n)=>{t.path!=="/login"&&!Oe.accessToken?n({path:"/login"}):n()});const Xn=nf;Oe.accessToken&&(Se.Init(),await bt.LoadContactsFromDb(),xi.Connect());hr(Oe,t=>{localStorage.setItem("store",JSON.stringify(t))});const rf=Pd(Ap);rf.use(Xn);rf.mount("#app");export{tf as A,an as B,bt as C,B_ as D,rt as F,xi as M,nt as U,Tt as a,qt as b,hs as c,U_ as d,lt as e,nh as f,Ae as g,fr as h,Sh as i,yf as j,K_ as k,hr as l,ph as m,Il as n,$n as o,Fl as p,j_ as q,Kf as r,L_ as s,K as t,ot as u,$_ as v,F_ as w,Fi as x,Xn as y,Oe as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
